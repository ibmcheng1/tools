{
    "securityResourceId": "1643c63c-7dcb-951b-446d-ca29493e9f7b",
    "path": "componentTemplates\/1643c63c-7df9-32c5-1a58-488cdcf4c8f2",
    "name": "HelmChartTemplate",
    "description": "",
    "ignoreQualifiers": 0,
    "componentType": "STANDARD",
    "tags": [],
    "active": true,
    "envPropDefs": [],
    "resPropDefs": [],
    "propDefs": [
        {
            "name": "jenkins.server",
            "label": "jenkins.server",
            "pattern": "",
            "type": "TEXT",
            "required": false,
            "description": "",
            "placeholder": ""
        },
        {
            "name": "jenkins.reviewed",
            "label": "jenkins.reviewed",
            "pattern": "",
            "type": "TEXT",
            "required": false,
            "description": "",
            "placeholder": ""
        }
    ],
    "properties": [
        {
            "name": "jenkins.reviewed",
            "description": "",
            "secure": false
        },
        {
            "name": "jenkins.server",
            "description": "",
            "secure": false
        }
    ],
    "processes": [
        {
            "name": "Deploy Helm Chart",
            "description": "",
            "defaultWorkingDir": "${p:resource\/work.dir}\/${p:component.name}",
            "takesVersion": true,
            "inventoryActionType": "ADD",
            "status": "Active",
            "configActionType": "ADD",
            "active": true,
            "path": "componentTemplates\/1643c63c-7df9-32c5-1a58-488cdcf4c8f2\/processes\/1643d9d9-a950-4fc9-bf16-fd4f0def8647",
            "deleted": false,
            "propDefs": [],
            "rootActivity": {
                "edges": [
                    {
                        "to": "d9f33966df5b6f03e8f84fef79bf0a",
                        "from": "Helm Upgrade",
                        "type": "SUCCESS",
                        "value": ""
                    },
                    {
                        "to": "Helm Upgrade",
                        "from": "Helm Init",
                        "type": "SUCCESS",
                        "value": ""
                    },
                    {
                        "to": "Get Environment Properties",
                        "from": "Replace Tokens",
                        "type": "SUCCESS",
                        "value": ""
                    },
                    {
                        "to": "Replace Tokens",
                        "from": "Download Artifacts",
                        "type": "SUCCESS",
                        "value": ""
                    },
                    {
                        "to": "Download Artifacts",
                        "from": "Clean Working Directory",
                        "type": "SUCCESS",
                        "value": ""
                    },
                    {
                        "to": "Helm Init",
                        "from": "Use Context",
                        "type": "SUCCESS",
                        "value": ""
                    },
                    {
                        "to": "Use Context",
                        "from": "Get Environment Properties",
                        "type": "SUCCESS",
                        "value": ""
                    },
                    {
                        "to": "Clean Working Directory",
                        "type": "ALWAYS",
                        "value": ""
                    }
                ],
                "offsets": [
                    {
                        "name": "Get Environment Properties",
                        "x": -109.99999999999994,
                        "y": 580,
                        "h": 80,
                        "w": 370
                    },
                    {
                        "name": "Download Artifacts",
                        "x": -59.999999999999886,
                        "y": 280,
                        "h": 80,
                        "w": 300
                    },
                    {
                        "name": "Helm Init",
                        "x": -49.99999999999999,
                        "y": 1000,
                        "h": 80,
                        "w": 220
                    },
                    {
                        "name": "Helm Upgrade",
                        "x": -50.00000000000015,
                        "y": 1250,
                        "h": 80,
                        "w": 270
                    },
                    {
                        "name": "Use Context",
                        "x": -40.000000000000114,
                        "y": 730,
                        "h": 80,
                        "w": 250
                    },
                    {
                        "name": "Clean Working Directory",
                        "x": -90,
                        "y": 140,
                        "h": 80,
                        "w": 370
                    },
                    {
                        "name": "Replace Tokens",
                        "x": -69.99999999999994,
                        "y": 420,
                        "h": 80,
                        "w": 280
                    },
                    {
                        "name": "d9f33966df5b6f03e8f84fef79bf0a",
                        "x": 26.87355967741948,
                        "y": 1410,
                        "h": 80,
                        "w": 130
                    }
                ],
                "layoutMode": "manual",
                "type": "graph",
                "name": "b1385821-2b71-49e3-9b4f-edf1feeb9ccc",
                "children": [
                    {
                        "type": "finish",
                        "name": "d9f33966df5b6f03e8f84fef79bf0a",
                        "children": []
                    },
                    {
                        "allowFailure": false,
                        "useImpersonation": false,
                        "showHidden": false,
                        "impersonationUseSudo": false,
                        "pluginVersion": 65,
                        "commandName": "Delete Files and Directories",
                        "pluginName": "File Utils",
                        "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                        "properties": {
                            "baseDir": ".",
                            "includes": "**\/*\r\n*",
                            "excludes": "",
                            "followSymlinks": "false",
                            "caseSensitive": "true"
                        },
                        "cachedAuthTokenRestriction": {
                            "name": "System Default",
                            "description": "Used by default for any plugin steps without a specified token restriction",
                            "restrictions": [{
                                "verb": "ALL",
                                "url": "\/*"
                            }]
                        },
                        "type": "plugin",
                        "name": "Clean Working Directory",
                        "children": []
                    },
                    {
                        "allowFailure": false,
                        "useImpersonation": false,
                        "showHidden": false,
                        "impersonationUseSudo": false,
                        "pluginVersion": 30,
                        "commandName": "Download Artifacts",
                        "pluginName": "UrbanCode Deploy Versioned File Storage",
                        "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                        "properties": {
                            "directoryOffset": "\/helm_chart",
                            "artifactSetBaseDir": "",
                            "fileIncludePatterns": "**\/*",
                            "fileExcludePatterns": "",
                            "syncMode": "true",
                            "fullVerification": "true",
                            "setFileExecuteBits": "false",
                            "verifyFileIntegrity": "false",
                            "versionId": "${p:version.id}",
                            "serverUrl": "${p:server.url}",
                            "compId": "${p:component.id}",
                            "resId": "${p:resource.id}",
                            "charset": "",
                            "label": ""
                        },
                        "cachedAuthTokenRestriction": {
                            "name": "System Default",
                            "description": "Used by default for any plugin steps without a specified token restriction",
                            "restrictions": [{
                                "verb": "ALL",
                                "url": "\/*"
                            }]
                        },
                        "type": "plugin",
                        "name": "Download Artifacts",
                        "children": []
                    },
                    {
                        "allowFailure": false,
                        "useImpersonation": false,
                        "showHidden": false,
                        "impersonationUseSudo": false,
                        "pluginVersion": 65,
                        "commandName": "Replace Tokens",
                        "pluginName": "File Utils",
                        "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                        "properties": {
                            "includes": "**\/*",
                            "excludes": "",
                            "envPropValues": "${p:environment\/allProperties},${p:component\/allProperties},${p:resource\/allProperties},${p:environment\/allProperties}",
                            "propertyPrefix": "",
                            "explicitTokens": "",
                            "startDelimiter": "@@@",
                            "endDelimiter": "@@@",
                            "propFile": "replace_tokens.properties",
                            "dir": "",
                            "customEncoding": ""
                        },
                        "cachedAuthTokenRestriction": {
                            "name": "System Default",
                            "description": "Used by default for any plugin steps without a specified token restriction",
                            "restrictions": [{
                                "verb": "ALL",
                                "url": "\/*"
                            }]
                        },
                        "type": "plugin",
                        "name": "Replace Tokens",
                        "children": []
                    },
                    {
                        "allowFailure": false,
                        "useImpersonation": false,
                        "showHidden": false,
                        "impersonationUseSudo": false,
                        "pluginVersion": 78,
                        "commandName": "Get Environment Properties",
                        "pluginName": "UrbanCode Deploy Environments",
                        "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                        "properties": {
                            "application": "${p:application.name}",
                            "environment": "${p:environment.name}"
                        },
                        "cachedAuthTokenRestriction": {
                            "name": "System Default",
                            "description": "Used by default for any plugin steps without a specified token restriction",
                            "restrictions": [{
                                "verb": "ALL",
                                "url": "\/*"
                            }]
                        },
                        "type": "plugin",
                        "name": "Get Environment Properties",
                        "children": []
                    },
                    {
                        "allowFailure": false,
                        "useImpersonation": false,
                        "showHidden": true,
                        "impersonationUseSudo": false,
                        "pluginVersion": 15,
                        "commandName": "Use Context",
                        "pluginName": "Kubernetes",
                        "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                        "properties": {
                            "url": "",
                            "username": "",
                            "password": "crypt_v1{AES\/CBC\/PKCS5Padding|aes128keyabk8|qMhMYyHjRCkTk6gQxEvCTA==|a98OhKLyac\/42KjsVnqwJQ==}",
                            "namespace": "",
                            "path": "",
                            "globals": "--kubeconfig=${p:Get Environment Properties\/kubeconfig}",
                            "contextname": "${p:kube.context}"
                        },
                        "cachedAuthTokenRestriction": {
                            "name": "System Default",
                            "description": "Used by default for any plugin steps without a specified token restriction",
                            "restrictions": [{
                                "verb": "ALL",
                                "url": "\/*"
                            }]
                        },
                        "type": "plugin",
                        "name": "Use Context",
                        "children": []
                    },
                    {
                        "allowFailure": false,
                        "useImpersonation": false,
                        "showHidden": true,
                        "impersonationUseSudo": false,
                        "pluginVersion": 15,
                        "commandName": "Helm Init",
                        "pluginName": "Kubernetes",
                        "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                        "properties": {
                            "cluster": "",
                            "flags": "--client-only",
                            "path": "",
                            "kubeconfig": "${p:Get Environment Properties\/kubeconfig}"
                        },
                        "cachedAuthTokenRestriction": {
                            "name": "System Default",
                            "description": "Used by default for any plugin steps without a specified token restriction",
                            "restrictions": [{
                                "verb": "ALL",
                                "url": "\/*"
                            }]
                        },
                        "type": "plugin",
                        "name": "Helm Init",
                        "children": []
                    },
                    {
                        "allowFailure": false,
                        "useImpersonation": false,
                        "showHidden": true,
                        "impersonationUseSudo": false,
                        "pluginVersion": 15,
                        "commandName": "Helm Upgrade",
                        "pluginName": "Kubernetes",
                        "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                        "properties": {
                            "release": "${p:helm.release}",
                            "chart": ".\/helm_chart",
                            "flags": "--namespace\r\n${p:icp.namespace}\r\n--install\r\n--tls\r\n--debug",
                            "path": "",
                            "kubeconfig": "${p:Get Environment Properties\/kubeconfig}"
                        },
                        "cachedAuthTokenRestriction": {
                            "name": "System Default",
                            "description": "Used by default for any plugin steps without a specified token restriction",
                            "restrictions": [{
                                "verb": "ALL",
                                "url": "\/*"
                            }]
                        },
                        "type": "plugin",
                        "name": "Helm Upgrade",
                        "children": []
                    }
                ]
            }
        },
        {
            "name": "Operational Helm Chart",
            "description": "",
            "defaultWorkingDir": "${p:resource\/work.dir}\/${p:component.name}",
            "takesVersion": false,
            "status": "",
            "active": true,
            "path": "componentTemplates\/1643c63c-7df9-32c5-1a58-488cdcf4c8f2\/processes\/1644098c-82a8-23e4-eefc-deddf519007a",
            "deleted": false,
            "propDefs": [],
            "rootActivity": {
                "edges": [
                    {
                        "to": "Download Artifacts",
                        "from": "Clean Working Directory",
                        "type": "SUCCESS",
                        "value": ""
                    },
                    {
                        "to": "Helm Init",
                        "from": "Download Artifacts",
                        "type": "SUCCESS",
                        "value": ""
                    },
                    {
                        "to": "Clean Working Directory",
                        "type": "ALWAYS",
                        "value": ""
                    },
                    {
                        "to": "63c0fb13b06ac91036bd7cb6529358",
                        "from": "Helm Init",
                        "type": "SUCCESS",
                        "value": ""
                    }
                ],
                "offsets": [
                    {
                        "name": "Download Artifacts",
                        "x": -75,
                        "y": 220,
                        "h": 70,
                        "w": 260
                    },
                    {
                        "name": "63c0fb13b06ac91036bd7cb6529358",
                        "x": -5,
                        "y": 420,
                        "h": 80,
                        "w": 120
                    },
                    {
                        "name": "Clean Working Directory",
                        "x": -85.78651685393265,
                        "y": 125,
                        "h": 70,
                        "w": 310
                    },
                    {
                        "name": "Helm Init",
                        "x": -30.786516853932653,
                        "y": 320,
                        "h": 70,
                        "w": 200
                    }
                ],
                "layoutMode": "manual",
                "type": "graph",
                "name": "cecf7886-6b2d-479b-8ca8-3fff4838242a",
                "children": [
                    {
                        "type": "finish",
                        "name": "63c0fb13b06ac91036bd7cb6529358",
                        "children": []
                    },
                    {
                        "allowFailure": false,
                        "useImpersonation": false,
                        "showHidden": false,
                        "impersonationUseSudo": false,
                        "pluginVersion": 65,
                        "commandName": "Delete Files and Directories",
                        "pluginName": "File Utils",
                        "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                        "properties": {
                            "baseDir": ".",
                            "includes": "**\/*\r\n*",
                            "excludes": "",
                            "followSymlinks": "false",
                            "caseSensitive": "true"
                        },
                        "cachedAuthTokenRestriction": {
                            "name": "System Default",
                            "description": "Used by default for any plugin steps without a specified token restriction",
                            "restrictions": [{
                                "verb": "ALL",
                                "url": "\/*"
                            }]
                        },
                        "type": "plugin",
                        "name": "Clean Working Directory",
                        "children": []
                    },
                    {
                        "allowFailure": false,
                        "useImpersonation": false,
                        "showHidden": false,
                        "impersonationUseSudo": false,
                        "pluginVersion": 30,
                        "commandName": "Download Artifacts",
                        "pluginName": "UrbanCode Deploy Versioned File Storage",
                        "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                        "properties": {
                            "directoryOffset": "\/helm_chart",
                            "artifactSetBaseDir": "",
                            "fileIncludePatterns": "**\/*",
                            "fileExcludePatterns": "",
                            "syncMode": "true",
                            "fullVerification": "true",
                            "setFileExecuteBits": "false",
                            "verifyFileIntegrity": "false",
                            "versionId": "${p:version.id}",
                            "serverUrl": "${p:server.url}",
                            "compId": "${p:component.id}",
                            "resId": "${p:resource.id}",
                            "charset": "",
                            "label": ""
                        },
                        "cachedAuthTokenRestriction": {
                            "name": "System Default",
                            "description": "Used by default for any plugin steps without a specified token restriction",
                            "restrictions": [{
                                "verb": "ALL",
                                "url": "\/*"
                            }]
                        },
                        "type": "plugin",
                        "name": "Download Artifacts",
                        "children": []
                    },
                    {
                        "allowFailure": false,
                        "useImpersonation": false,
                        "showHidden": true,
                        "impersonationUseSudo": false,
                        "pluginVersion": 15,
                        "commandName": "Helm Init",
                        "pluginName": "Kubernetes",
                        "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                        "properties": {
                            "cluster": "",
                            "flags": "--client-only",
                            "path": "",
                            "kubeconfig": "${p:Get Environment Properties\/kubeconfig}"
                        },
                        "cachedAuthTokenRestriction": {
                            "name": "System Default",
                            "description": "Used by default for any plugin steps without a specified token restriction",
                            "restrictions": [{
                                "verb": "ALL",
                                "url": "\/*"
                            }]
                        },
                        "type": "plugin",
                        "name": "Helm Init",
                        "children": []
                    }
                ]
            }
        }
    ],
    "genericProcesses": [],
    "teamMappings": []
}