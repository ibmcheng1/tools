{
    "name": "commercial-desktop",
    "description": "",
    "enforceCompleteSnapshots": false,
    "propSheet": {"properties": []},
    "templatePropSheet": {
        "name": "template",
        "properties": []
    },
    "components": [
        {
            "name": "commercial-desktop",
            "description": "",
            "created": 1531420726813,
            "componentType": "STANDARD",
            "ignoreQualifiers": 0,
            "importAutomatically": false,
            "useVfs": true,
            "active": true,
            "deleted": false,
            "defaultVersionType": "FULL",
            "cleanupDaysToKeep": 0,
            "cleanupCountToKeep": 0,
            "componentTemplate": {
                "securityResourceId": "164802f5-2d1c-f320-a92a-7e27d03e775b",
                "path": "componentTemplates\/164802f5-2d4c-031f-94d2-112d48a7d34c",
                "name": "HelmChartTemplate",
                "description": "",
                "ignoreQualifiers": 0,
                "componentType": "STANDARD",
                "tags": [],
                "active": true,
                "envPropDefs": [],
                "resPropDefs": [],
                "propDefs": [
                    {
                        "name": "jenkins.server",
                        "label": "jenkins.server",
                        "pattern": "",
                        "type": "TEXT",
                        "required": false,
                        "description": "",
                        "placeholder": ""
                    },
                    {
                        "name": "jenkins.reviewed",
                        "label": "jenkins.reviewed",
                        "pattern": "",
                        "type": "TEXT",
                        "required": false,
                        "description": "",
                        "placeholder": ""
                    }
                ],
                "properties": [
                    {
                        "name": "jenkins.reviewed",
                        "value": "crypt_v1{AES\/CBC\/PKCS5Padding|aes128keyabk8|bvndYKDKkqGbDxBD1p\/mvQ==|LBD9WVS5BKEB7D1wkOGTjA==}",
                        "description": "",
                        "secure": true
                    },
                    {
                        "name": "jenkins.server",
                        "value": "crypt_v1{AES\/CBC\/PKCS5Padding|aes128keyabk8|2PmuYttUH8InTrdtADvjhw==|eo6nuGT19AtEmffpmu\/yUA==}",
                        "description": "",
                        "secure": true
                    }
                ],
                "processes": [
                    {
                        "name": "Deploy Helm Chart",
                        "description": "",
                        "defaultWorkingDir": "${p:resource\/work.dir}\/${p:component.name}",
                        "takesVersion": true,
                        "inventoryActionType": "ADD",
                        "status": "Active",
                        "configActionType": "ADD",
                        "active": true,
                        "path": "componentTemplates\/164802f5-2d4c-031f-94d2-112d48a7d34c\/processes\/1648ac94-bde7-c3c3-b3a5-460ed70242d2",
                        "deleted": false,
                        "propDefs": [],
                        "rootActivity": {
                            "edges": [
                                {
                                    "to": "Get Environment Properties",
                                    "from": "Replace Tokens",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Replace Tokens",
                                    "from": "Download Artifacts",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Helm Init",
                                    "from": "ICP Login",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Helm Custom Upgrade",
                                    "from": "Get Component Version",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "from": "Helm Custom Upgrade",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Use Context",
                                    "from": "Get Environment Properties",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Get Component Version",
                                    "from": "Check status before",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "ICP Login",
                                    "from": "Use Context",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Download Artifacts",
                                    "from": "Clean Working Directory",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Check status before",
                                    "from": "Helm Init",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Clean Working Directory",
                                    "type": "ALWAYS",
                                    "value": ""
                                }
                            ],
                            "offsets": [
                                {
                                    "name": "Helm Custom Upgrade",
                                    "x": 310.0000000000001,
                                    "y": 1010,
                                    "h": 80,
                                    "w": 280
                                },
                                {
                                    "name": "Helm Init",
                                    "x": -289.9999999999999,
                                    "y": 830,
                                    "h": 80,
                                    "w": 230
                                },
                                {
                                    "name": "Replace Tokens",
                                    "x": -69.99999999999994,
                                    "y": 420,
                                    "h": 80,
                                    "w": 280
                                },
                                {
                                    "name": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "x": 750.0000000000001,
                                    "y": 1005,
                                    "h": 90,
                                    "w": 130
                                },
                                {
                                    "name": "Download Artifacts",
                                    "x": -59.999999999999886,
                                    "y": 280,
                                    "h": 80,
                                    "w": 300
                                },
                                {
                                    "name": "Check status before",
                                    "x": 60.000000000000114,
                                    "y": 830,
                                    "h": 80,
                                    "w": 260
                                },
                                {
                                    "name": "Get Component Version",
                                    "x": 443.9361702127659,
                                    "y": 833.9494680851063,
                                    "h": 80,
                                    "w": 460
                                },
                                {
                                    "name": "Use Context",
                                    "x": -119.99999999999989,
                                    "y": 670,
                                    "h": 80,
                                    "w": 250
                                },
                                {
                                    "name": "ICP Login",
                                    "x": 205.00000000000006,
                                    "y": 650,
                                    "h": 80,
                                    "w": 180
                                },
                                {
                                    "name": "Clean Working Directory",
                                    "x": -90,
                                    "y": 140,
                                    "h": 80,
                                    "w": 380
                                },
                                {
                                    "name": "Get Environment Properties",
                                    "x": -119.99999999999989,
                                    "y": 540,
                                    "h": 80,
                                    "w": 380
                                }
                            ],
                            "layoutMode": "manual",
                            "type": "graph",
                            "name": "ad7c2542-98f2-4f74-a9c2-e37b36e88949",
                            "children": [
                                {
                                    "type": "finish",
                                    "name": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 65,
                                    "commandName": "Delete Files and Directories",
                                    "pluginName": "File Utils",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "baseDir": ".",
                                        "includes": "**\/*\r\n*",
                                        "excludes": "",
                                        "followSymlinks": "false",
                                        "caseSensitive": "true"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Clean Working Directory",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 30,
                                    "commandName": "Download Artifacts",
                                    "pluginName": "UrbanCode Deploy Versioned File Storage",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": "\/helm_chart",
                                        "artifactSetBaseDir": "",
                                        "fileIncludePatterns": "**\/*",
                                        "fileExcludePatterns": "",
                                        "syncMode": "true",
                                        "fullVerification": "true",
                                        "setFileExecuteBits": "false",
                                        "verifyFileIntegrity": "false",
                                        "versionId": "${p:version.id}",
                                        "serverUrl": "${p:server.url}",
                                        "compId": "${p:component.id}",
                                        "resId": "${p:resource.id}",
                                        "charset": "",
                                        "label": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Download Artifacts",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 65,
                                    "commandName": "Replace Tokens",
                                    "pluginName": "File Utils",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "includes": "**\/*",
                                        "excludes": "",
                                        "envPropValues": "${p:environment\/allProperties},${p:component\/allProperties},${p:resource\/allProperties},${p:environment\/allProperties}",
                                        "propertyPrefix": "",
                                        "explicitTokens": "",
                                        "startDelimiter": "@@@",
                                        "endDelimiter": "@@@",
                                        "propFile": "replace_tokens.properties",
                                        "dir": "",
                                        "customEncoding": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Replace Tokens",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 78,
                                    "commandName": "Get Environment Properties",
                                    "pluginName": "UrbanCode Deploy Environments",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "application": "${p:application.name}",
                                        "environment": "${p:environment.name}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Get Environment Properties",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Use Context",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "url": "",
                                        "username": "",
                                        "password": "crypt_v1{AES\/CBC\/PKCS5Padding|aes128keyabk8|lAqAZ7CjA9\/bprY3MPxEoQ==|otq\/e8i0b5KF7dFiuMrnbg==}",
                                        "namespace": "",
                                        "path": "",
                                        "globals": "--kubeconfig=${p:Get Environment Properties\/kubeconfig}",
                                        "contextname": "${p:kube.context}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Use Context",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Helm Init",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "cluster": "",
                                        "flags": "--client-only",
                                        "path": "",
                                        "kubeconfig": "${p:Get Environment Properties\/kubeconfig}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Helm Init",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"1\" | bx pr login -u admin -p admin --skip-ssl-validation",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "ICP Login",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "postProcessingScript": {
                                        "id": "164856a1-dcae-1843-7736-a0c78da2c99f",
                                        "name": "Helm_Upgrade_Post_Check",
                                        "description": "",
                                        "body": "var exit = properties.get('exitCode');\r\n\r\ncommandOut.println(\"initial step exitCode = \" + exit);\r\n\r\nvar passed = 0;\r\ncommandOut.println(\"initial passed = \" + passed);\r\n\r\nscanner.register(\"STATUS: DEPLOYED\", function(lineNumber, line) {\r\n      var value = line.replace(\"STATUS: \", \"\");\r\n      properties.put(\"Value\", value);\r\n      passed = 1;\r\n  });\r\n  \r\nscanner.scan();\r\n\r\nvar currentValue = properties.get('Value');\r\ncommandOut.println(\"STATUS = \" + currentValue);\r\ncommandOut.println(\"Determined passed = \" + passed);\r\n\r\nif (passed == 1) {\r\n    commandOut.println(\"passed is 1. found keyword. Override Failure and set status to Success !!!\");\r\n    properties.put('Status', 'Success');\r\n} else {\r\n    commandOut.println(\"passed is not 1 -> keyword not found. Failure.\");\r\n    properties.put('Status', 'Failure');\r\n}\r\n\r\ncommandOut.println(\"Final step status = \" + properties.get('Status'));\r\n"
                                    },
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"Environment Name = ${p:environment.name}\"\necho \"Component Name = ${p:component.name}\"\necho \"Current selected Component Version Name = ${p:version.name}\"\n\nrc=`cut -d. -f1 <<< ${p:version.name} 2>&1`\necho \"temporary rc = $rc\"\nrc=`echo \"${rc}\" | sed -r 's\/[\/]+\/-\/g' 2>&1`\necho \"Git Branch = $rc\"\nhr=\"${p:component.name}-${p:environment.name}-${rc}\"\necho \"Old Helm release = ${p:helm.release}-${rc}\"\necho \"New Helm release = ${hr}\"\necho \"Ensure helm release name only contains lower case.\"\necho \"Helm release (all lower case) = ${hr}\"\nhr=`echo \"${hr}\" | tr '[:upper:]' '[:lower:]' 2>&1`\necho \"Ensure helm release name has < 53 characters, and cut off after 53th character.\"\nhr=`cut -c-53 <<< ${hr} 2>&1`\necho \"Final Helm release = ${hr}\"\nhelm upgrade ${hr} .\/helm_chart --namespace ${p:icp.namespace} --install --wait --timeout 30 --tls --debug",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Helm Custom Upgrade",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "postProcessingScript": {
                                        "id": "1648aa12-1407-a32e-2332-03942a18d352",
                                        "name": "Post Check Status Before",
                                        "description": "",
                                        "body": "properties.put('Status', 'Success');\n\nvar exit = properties.get('exitCode');\ncommandOut.println(\"initial step exitCode = \" + exit);\n\nvar passed = 0;\ncommandOut.println(\"initial passed = \" + passed);\n\nscanner.register(\"Counter: \", function(lineNumber, line) {\n      var value = line.replace(\"Counter: \", \"\");\n      properties.put('Counter', value);\n      passed = 1;\n  });\n  \nscanner.scan();\n\nvar currentValue = properties.get('Counter');\n\ncommandOut.println(\"Counter = \" + currentValue);\ncommandOut.println(\"Determined passed = \" + passed);\n\ncommandOut.println(\"Final step status = \" + properties.get('Status'));\n"
                                    },
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"Check release status: namespace = ${p:icp.namespace} ,  release name = ${p:helm.release}\"\n\nhelm ls --deployed --namespace ${p:icp.namespace} --tls | awk '\/${p:helm.release}\/ {print \"Counter: \" $2}'",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Check status before",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 74,
                                    "commandName": "Get Component Version For Resource",
                                    "pluginName": "IBM UrbanCode Deploy Resources",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "component": "${p:component.id}",
                                        "resource": "${p:resource.id}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Get Component Version",
                                    "children": []
                                }
                            ]
                        }
                    },
                    {
                        "name": "Deploy Helm Chart - backup v1.0",
                        "description": "",
                        "defaultWorkingDir": "${p:resource\/work.dir}\/${p:component.name}",
                        "takesVersion": true,
                        "inventoryActionType": "ADD",
                        "status": "Active",
                        "configActionType": "ADD",
                        "active": true,
                        "path": "componentTemplates\/164802f5-2d4c-031f-94d2-112d48a7d34c\/processes\/1648ac9a-e480-3dde-9bfd-e2730a73dbab",
                        "deleted": false,
                        "propDefs": [],
                        "rootActivity": {
                            "edges": [
                                {
                                    "to": "Use Context",
                                    "from": "Get Environment Properties",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Shell",
                                    "from": "Use Context",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Replace Tokens",
                                    "from": "Download Artifacts",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Clean Working Directory",
                                    "type": "ALWAYS",
                                    "value": ""
                                },
                                {
                                    "to": "Download Artifacts",
                                    "from": "Clean Working Directory",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "from": "Helm Upgrade",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Get Environment Properties",
                                    "from": "Replace Tokens",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Helm Init",
                                    "from": "Shell",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Helm Upgrade",
                                    "from": "Helm Init",
                                    "type": "SUCCESS",
                                    "value": ""
                                }
                            ],
                            "offsets": [
                                {
                                    "name": "Replace Tokens",
                                    "x": -69.99999999999994,
                                    "y": 420,
                                    "h": 80,
                                    "w": 280
                                },
                                {
                                    "name": "Clean Working Directory",
                                    "x": -90,
                                    "y": 140,
                                    "h": 80,
                                    "w": 380
                                },
                                {
                                    "name": "Get Environment Properties",
                                    "x": -109.99999999999994,
                                    "y": 580,
                                    "h": 80,
                                    "w": 380
                                },
                                {
                                    "name": "Use Context",
                                    "x": -40.000000000000114,
                                    "y": 730,
                                    "h": 80,
                                    "w": 250
                                },
                                {
                                    "name": "Helm Init",
                                    "x": -30.00000000000017,
                                    "y": 1080,
                                    "h": 80,
                                    "w": 230
                                },
                                {
                                    "name": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "x": 26.87355967741948,
                                    "y": 1410,
                                    "h": 90,
                                    "w": 130
                                },
                                {
                                    "name": "Download Artifacts",
                                    "x": -59.999999999999886,
                                    "y": 280,
                                    "h": 80,
                                    "w": 300
                                },
                                {
                                    "name": "Shell",
                                    "x": -9.999999999999886,
                                    "y": 887.154761904762,
                                    "h": 80,
                                    "w": 180
                                },
                                {
                                    "name": "Helm Upgrade",
                                    "x": -50.00000000000015,
                                    "y": 1250,
                                    "h": 80,
                                    "w": 270
                                }
                            ],
                            "layoutMode": "manual",
                            "type": "graph",
                            "name": "5adec20d-a3c2-4e62-816a-fda2cecbd3c8",
                            "children": [
                                {
                                    "type": "finish",
                                    "name": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 65,
                                    "commandName": "Delete Files and Directories",
                                    "pluginName": "File Utils",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "baseDir": ".",
                                        "includes": "**\/*\r\n*",
                                        "excludes": "",
                                        "followSymlinks": "false",
                                        "caseSensitive": "true"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Clean Working Directory",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 30,
                                    "commandName": "Download Artifacts",
                                    "pluginName": "UrbanCode Deploy Versioned File Storage",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": "\/helm_chart",
                                        "artifactSetBaseDir": "",
                                        "fileIncludePatterns": "**\/*",
                                        "fileExcludePatterns": "",
                                        "syncMode": "true",
                                        "fullVerification": "true",
                                        "setFileExecuteBits": "false",
                                        "verifyFileIntegrity": "false",
                                        "versionId": "${p:version.id}",
                                        "serverUrl": "${p:server.url}",
                                        "compId": "${p:component.id}",
                                        "resId": "${p:resource.id}",
                                        "charset": "",
                                        "label": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Download Artifacts",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 65,
                                    "commandName": "Replace Tokens",
                                    "pluginName": "File Utils",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "includes": "**\/*",
                                        "excludes": "",
                                        "envPropValues": "${p:environment\/allProperties},${p:component\/allProperties},${p:resource\/allProperties},${p:environment\/allProperties}",
                                        "propertyPrefix": "",
                                        "explicitTokens": "",
                                        "startDelimiter": "@@@",
                                        "endDelimiter": "@@@",
                                        "propFile": "replace_tokens.properties",
                                        "dir": "",
                                        "customEncoding": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Replace Tokens",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 78,
                                    "commandName": "Get Environment Properties",
                                    "pluginName": "UrbanCode Deploy Environments",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "application": "${p:application.name}",
                                        "environment": "${p:environment.name}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Get Environment Properties",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Use Context",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "url": "",
                                        "username": "",
                                        "password": "crypt_v1{AES\/CBC\/PKCS5Padding|aes128keyabk8|VYhU+ykuVFDRHKBn\/+pJsA==|idCa4CP0YmrmevXZfTKnXg==}",
                                        "namespace": "",
                                        "path": "",
                                        "globals": "--kubeconfig=${p:Get Environment Properties\/kubeconfig}",
                                        "contextname": "${p:kube.context}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Use Context",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Helm Init",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "cluster": "",
                                        "flags": "--client-only",
                                        "path": "",
                                        "kubeconfig": "${p:Get Environment Properties\/kubeconfig}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Helm Init",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Helm Upgrade",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "release": "${p:helm.release}",
                                        "chart": ".\/helm_chart",
                                        "flags": "--namespace\r\n${p:icp.namespace}\r\n--install\r\n--wait\r\n--timeout\r\n30\r\n--tls\r\n--debug",
                                        "path": "",
                                        "kubeconfig": "${p:Get Environment Properties\/kubeconfig}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Helm Upgrade",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"1\" | bx pr login -u admin -p admin --skip-ssl-validation",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Shell",
                                    "children": []
                                }
                            ]
                        }
                    },
                    {
                        "name": "Deploy Helm Chart - backup v2",
                        "description": "",
                        "defaultWorkingDir": "${p:resource\/work.dir}\/${p:component.name}",
                        "takesVersion": true,
                        "inventoryActionType": "ADD",
                        "status": "Active",
                        "configActionType": "ADD",
                        "active": true,
                        "path": "componentTemplates\/164802f5-2d4c-031f-94d2-112d48a7d34c\/processes\/164a552d-b8a1-6478-164c-34d553364751",
                        "deleted": false,
                        "propDefs": [],
                        "rootActivity": {
                            "edges": [
                                {
                                    "to": "Replace Tokens",
                                    "from": "Download Artifacts",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "from": "Helm Custom Upgrade",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Get Environment Properties",
                                    "from": "Replace Tokens",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "First Error Handling",
                                    "from": "Helm Upgrade",
                                    "type": "FAILURE",
                                    "value": ""
                                },
                                {
                                    "to": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "from": "Helm Upgrade",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Download Artifacts",
                                    "from": "Clean Working Directory",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Helm Upgrade",
                                    "from": "Check status before",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Check status before",
                                    "from": "Helm Init",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Helm Init",
                                    "from": "ICP Login",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "ICP Login",
                                    "from": "Use Context",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Helm Custom Upgrade",
                                    "from": "First Error Handling",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Clean Working Directory",
                                    "type": "ALWAYS",
                                    "value": ""
                                },
                                {
                                    "to": "Use Context",
                                    "from": "Get Environment Properties",
                                    "type": "SUCCESS",
                                    "value": ""
                                }
                            ],
                            "offsets": [
                                {
                                    "name": "Clean Working Directory",
                                    "x": -90,
                                    "y": 140,
                                    "h": 80,
                                    "w": 380
                                },
                                {
                                    "name": "Helm Upgrade",
                                    "x": 455.0000000000001,
                                    "y": 830,
                                    "h": 80,
                                    "w": 270
                                },
                                {
                                    "name": "ICP Login",
                                    "x": 205.00000000000006,
                                    "y": 650,
                                    "h": 80,
                                    "w": 180
                                },
                                {
                                    "name": "Use Context",
                                    "x": -119.99999999999989,
                                    "y": 670,
                                    "h": 80,
                                    "w": 250
                                },
                                {
                                    "name": "Check status before",
                                    "x": 60.000000000000114,
                                    "y": 830,
                                    "h": 80,
                                    "w": 260
                                },
                                {
                                    "name": "Helm Custom Upgrade",
                                    "x": 320.0000000000001,
                                    "y": 1150,
                                    "h": 80,
                                    "w": 280
                                },
                                {
                                    "name": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "x": 755.0000000000001,
                                    "y": 1160,
                                    "h": 90,
                                    "w": 130
                                },
                                {
                                    "name": "Helm Init",
                                    "x": -289.9999999999999,
                                    "y": 830,
                                    "h": 80,
                                    "w": 230
                                },
                                {
                                    "name": "Replace Tokens",
                                    "x": -69.99999999999994,
                                    "y": 420,
                                    "h": 80,
                                    "w": 280
                                },
                                {
                                    "name": "Download Artifacts",
                                    "x": -59.999999999999886,
                                    "y": 280,
                                    "h": 80,
                                    "w": 300
                                },
                                {
                                    "name": "First Error Handling",
                                    "x": 330.0000000000001,
                                    "y": 980,
                                    "h": 80,
                                    "w": 250
                                },
                                {
                                    "name": "Get Environment Properties",
                                    "x": -119.99999999999989,
                                    "y": 540,
                                    "h": 80,
                                    "w": 380
                                }
                            ],
                            "layoutMode": "manual",
                            "type": "graph",
                            "name": "4b84de17-03cf-4f7f-9972-d4404a75d464",
                            "children": [
                                {
                                    "type": "finish",
                                    "name": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 65,
                                    "commandName": "Delete Files and Directories",
                                    "pluginName": "File Utils",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "baseDir": ".",
                                        "includes": "**\/*\r\n*",
                                        "excludes": "",
                                        "followSymlinks": "false",
                                        "caseSensitive": "true"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Clean Working Directory",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 30,
                                    "commandName": "Download Artifacts",
                                    "pluginName": "UrbanCode Deploy Versioned File Storage",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": "\/helm_chart",
                                        "artifactSetBaseDir": "",
                                        "fileIncludePatterns": "**\/*",
                                        "fileExcludePatterns": "",
                                        "syncMode": "true",
                                        "fullVerification": "true",
                                        "setFileExecuteBits": "false",
                                        "verifyFileIntegrity": "false",
                                        "versionId": "${p:version.id}",
                                        "serverUrl": "${p:server.url}",
                                        "compId": "${p:component.id}",
                                        "resId": "${p:resource.id}",
                                        "charset": "",
                                        "label": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Download Artifacts",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 65,
                                    "commandName": "Replace Tokens",
                                    "pluginName": "File Utils",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "includes": "**\/*",
                                        "excludes": "",
                                        "envPropValues": "${p:environment\/allProperties},${p:component\/allProperties},${p:resource\/allProperties},${p:environment\/allProperties}",
                                        "propertyPrefix": "",
                                        "explicitTokens": "",
                                        "startDelimiter": "@@@",
                                        "endDelimiter": "@@@",
                                        "propFile": "replace_tokens.properties",
                                        "dir": "",
                                        "customEncoding": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Replace Tokens",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 78,
                                    "commandName": "Get Environment Properties",
                                    "pluginName": "UrbanCode Deploy Environments",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "application": "${p:application.name}",
                                        "environment": "${p:environment.name}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Get Environment Properties",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Use Context",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "url": "",
                                        "username": "",
                                        "password": "crypt_v1{AES\/CBC\/PKCS5Padding|aes128keyabk8|k1i2sTjC0LOyjRU8Z+iurw==|qDBebeGtaFp6Hfe18Vdwcg==}",
                                        "namespace": "",
                                        "path": "",
                                        "globals": "--kubeconfig=${p:Get Environment Properties\/kubeconfig}",
                                        "contextname": "${p:kube.context}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Use Context",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Helm Init",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "cluster": "",
                                        "flags": "--client-only",
                                        "path": "",
                                        "kubeconfig": "${p:Get Environment Properties\/kubeconfig}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Helm Init",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Helm Upgrade",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "release": "${p:helm.release}",
                                        "chart": ".\/helm_chart",
                                        "flags": "--namespace\r\n${p:icp.namespace}\r\n--install\r\n--wait\r\n--timeout\r\n30\r\n--tls\r\n--debug",
                                        "path": "",
                                        "kubeconfig": "${p:Get Environment Properties\/kubeconfig}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Helm Upgrade",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"1\" | bx pr login -u admin -p admin --skip-ssl-validation",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "ICP Login",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "postProcessingScript": {
                                        "id": "164856a1-dcae-1843-7736-a0c78da2c99f",
                                        "name": "Helm_Upgrade_Post_Check",
                                        "description": "",
                                        "body": "var exit = properties.get('exitCode');\r\n\r\ncommandOut.println(\"initial step exitCode = \" + exit);\r\n\r\nvar passed = 0;\r\ncommandOut.println(\"initial passed = \" + passed);\r\n\r\nscanner.register(\"STATUS: DEPLOYED\", function(lineNumber, line) {\r\n      var value = line.replace(\"STATUS: \", \"\");\r\n      properties.put(\"Value\", value);\r\n      passed = 1;\r\n  });\r\n  \r\nscanner.scan();\r\n\r\nvar currentValue = properties.get('Value');\r\ncommandOut.println(\"STATUS = \" + currentValue);\r\ncommandOut.println(\"Determined passed = \" + passed);\r\n\r\nif (passed == 1) {\r\n    commandOut.println(\"passed is 1. found keyword. Override Failure and set status to Success !!!\");\r\n    properties.put('Status', 'Success');\r\n} else {\r\n    commandOut.println(\"passed is not 1 -> keyword not found. Failure.\");\r\n    properties.put('Status', 'Failure');\r\n}\r\n\r\ncommandOut.println(\"Final step status = \" + properties.get('Status'));\r\n"
                                    },
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "helm upgrade ${p:helm.release} .\/helm_chart --namespace ${p:icp.namespace} --install --wait --timeout 30 --tls --debug",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Helm Custom Upgrade",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"Error handling: namespace = ${p:icp.namespace} ,  release name = ${p:helm.release}\"\n\nhelm ls --deployed --namespace ${p:icp.namespace} --tls | awk '\/${p:helm.release}\/ {print \"Counter: \" $2}'",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "First Error Handling",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "postProcessingScript": {
                                        "id": "1648aa12-1407-a32e-2332-03942a18d352",
                                        "name": "Post Check Status Before",
                                        "description": "",
                                        "body": "properties.put('Status', 'Success');\n\nvar exit = properties.get('exitCode');\ncommandOut.println(\"initial step exitCode = \" + exit);\n\nvar passed = 0;\ncommandOut.println(\"initial passed = \" + passed);\n\nscanner.register(\"Counter: \", function(lineNumber, line) {\n      var value = line.replace(\"Counter: \", \"\");\n      properties.put('Counter', value);\n      passed = 1;\n  });\n  \nscanner.scan();\n\nvar currentValue = properties.get('Counter');\n\ncommandOut.println(\"Counter = \" + currentValue);\ncommandOut.println(\"Determined passed = \" + passed);\n\ncommandOut.println(\"Final step status = \" + properties.get('Status'));\n"
                                    },
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"Check release status: namespace = ${p:icp.namespace} ,  release name = ${p:helm.release}\"\n\nhelm ls --deployed --namespace ${p:icp.namespace} --tls | awk '\/${p:helm.release}\/ {print \"Counter: \" $2}'",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Check status before",
                                    "children": []
                                }
                            ]
                        }
                    },
                    {
                        "name": "Deploy Helm Chart with status tags",
                        "description": "",
                        "defaultWorkingDir": "${p:resource\/work.dir}\/${p:component.name}",
                        "takesVersion": true,
                        "inventoryActionType": "ADD",
                        "status": "Active",
                        "configActionType": "ADD",
                        "active": true,
                        "path": "componentTemplates\/164802f5-2d4c-031f-94d2-112d48a7d34c\/processes\/164ae816-e62c-3486-a968-000787db9cbe",
                        "deleted": false,
                        "propDefs": [],
                        "rootActivity": {
                            "edges": [
                                {
                                    "to": "Get Environment Properties",
                                    "from": "Replace Tokens",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Replace Tokens",
                                    "from": "Download Artifacts",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Helm Init",
                                    "from": "ICP Login",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Helm Custom Upgrade",
                                    "from": "Get Component Version",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "from": "Helm Custom Upgrade",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Use Context",
                                    "from": "Get Environment Properties",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Get Component Version",
                                    "from": "Check status before",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "ICP Login",
                                    "from": "Use Context",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Download Artifacts",
                                    "from": "Clean Working Directory",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Check status before",
                                    "from": "Helm Init",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Clean Working Directory",
                                    "type": "ALWAYS",
                                    "value": ""
                                }
                            ],
                            "offsets": [
                                {
                                    "name": "Helm Custom Upgrade",
                                    "x": 310.0000000000001,
                                    "y": 1010,
                                    "h": 80,
                                    "w": 280
                                },
                                {
                                    "name": "Helm Init",
                                    "x": -289.9999999999999,
                                    "y": 830,
                                    "h": 80,
                                    "w": 230
                                },
                                {
                                    "name": "Replace Tokens",
                                    "x": -69.99999999999994,
                                    "y": 420,
                                    "h": 80,
                                    "w": 280
                                },
                                {
                                    "name": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "x": 750.0000000000001,
                                    "y": 1005,
                                    "h": 90,
                                    "w": 130
                                },
                                {
                                    "name": "Download Artifacts",
                                    "x": -59.999999999999886,
                                    "y": 280,
                                    "h": 80,
                                    "w": 300
                                },
                                {
                                    "name": "Check status before",
                                    "x": 60.000000000000114,
                                    "y": 830,
                                    "h": 80,
                                    "w": 260
                                },
                                {
                                    "name": "Get Component Version",
                                    "x": 443.9361702127659,
                                    "y": 833.9494680851063,
                                    "h": 80,
                                    "w": 460
                                },
                                {
                                    "name": "Use Context",
                                    "x": -119.99999999999989,
                                    "y": 670,
                                    "h": 80,
                                    "w": 250
                                },
                                {
                                    "name": "ICP Login",
                                    "x": 205.00000000000006,
                                    "y": 650,
                                    "h": 80,
                                    "w": 180
                                },
                                {
                                    "name": "Clean Working Directory",
                                    "x": -90,
                                    "y": 140,
                                    "h": 80,
                                    "w": 380
                                },
                                {
                                    "name": "Get Environment Properties",
                                    "x": -119.99999999999989,
                                    "y": 540,
                                    "h": 80,
                                    "w": 380
                                }
                            ],
                            "layoutMode": "manual",
                            "type": "graph",
                            "name": "ad7c2542-98f2-4f74-a9c2-e37b36e88949",
                            "children": [
                                {
                                    "type": "finish",
                                    "name": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 65,
                                    "commandName": "Delete Files and Directories",
                                    "pluginName": "File Utils",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "baseDir": ".",
                                        "includes": "**\/*\r\n*",
                                        "excludes": "",
                                        "followSymlinks": "false",
                                        "caseSensitive": "true"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Clean Working Directory",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 30,
                                    "commandName": "Download Artifacts",
                                    "pluginName": "UrbanCode Deploy Versioned File Storage",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": "\/helm_chart",
                                        "artifactSetBaseDir": "",
                                        "fileIncludePatterns": "**\/*",
                                        "fileExcludePatterns": "",
                                        "syncMode": "true",
                                        "fullVerification": "true",
                                        "setFileExecuteBits": "false",
                                        "verifyFileIntegrity": "false",
                                        "versionId": "${p:version.id}",
                                        "serverUrl": "${p:server.url}",
                                        "compId": "${p:component.id}",
                                        "resId": "${p:resource.id}",
                                        "charset": "",
                                        "label": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Download Artifacts",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 65,
                                    "commandName": "Replace Tokens",
                                    "pluginName": "File Utils",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "includes": "**\/*",
                                        "excludes": "",
                                        "envPropValues": "${p:environment\/allProperties},${p:component\/allProperties},${p:resource\/allProperties},${p:environment\/allProperties}",
                                        "propertyPrefix": "",
                                        "explicitTokens": "",
                                        "startDelimiter": "@@@",
                                        "endDelimiter": "@@@",
                                        "propFile": "replace_tokens.properties",
                                        "dir": "",
                                        "customEncoding": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Replace Tokens",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 78,
                                    "commandName": "Get Environment Properties",
                                    "pluginName": "UrbanCode Deploy Environments",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "application": "${p:application.name}",
                                        "environment": "${p:environment.name}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Get Environment Properties",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Use Context",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "url": "",
                                        "username": "",
                                        "password": "crypt_v1{AES\/CBC\/PKCS5Padding|aes128keyabk8|Gkl7d8MdZ\/ekVxyvpBd\/2w==|ct+hlcYSCNQFL87OEIKMIg==}",
                                        "namespace": "",
                                        "path": "",
                                        "globals": "--kubeconfig=${p:Get Environment Properties\/kubeconfig}",
                                        "contextname": "${p:kube.context}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Use Context",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Helm Init",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "cluster": "",
                                        "flags": "--client-only",
                                        "path": "",
                                        "kubeconfig": "${p:Get Environment Properties\/kubeconfig}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Helm Init",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"1\" | bx pr login -u admin -p admin --skip-ssl-validation",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "ICP Login",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "postProcessingScript": {
                                        "id": "164856a1-dcae-1843-7736-a0c78da2c99f",
                                        "name": "Helm_Upgrade_Post_Check",
                                        "description": "",
                                        "body": "var exit = properties.get('exitCode');\r\n\r\ncommandOut.println(\"initial step exitCode = \" + exit);\r\n\r\nvar passed = 0;\r\ncommandOut.println(\"initial passed = \" + passed);\r\n\r\nscanner.register(\"STATUS: DEPLOYED\", function(lineNumber, line) {\r\n      var value = line.replace(\"STATUS: \", \"\");\r\n      properties.put(\"Value\", value);\r\n      passed = 1;\r\n  });\r\n  \r\nscanner.scan();\r\n\r\nvar currentValue = properties.get('Value');\r\ncommandOut.println(\"STATUS = \" + currentValue);\r\ncommandOut.println(\"Determined passed = \" + passed);\r\n\r\nif (passed == 1) {\r\n    commandOut.println(\"passed is 1. found keyword. Override Failure and set status to Success !!!\");\r\n    properties.put('Status', 'Success');\r\n} else {\r\n    commandOut.println(\"passed is not 1 -> keyword not found. Failure.\");\r\n    properties.put('Status', 'Failure');\r\n}\r\n\r\ncommandOut.println(\"Final step status = \" + properties.get('Status'));\r\n"
                                    },
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"Environment Name = ${p:environment.name}\"\necho \"Component Name = ${p:component.name}\"\necho \"Current selected Component Version Name = ${p:version.name}\"\n\nrc=`cut -d. -f1 <<< ${p:version.name} 2>&1`\necho \"temporary rc = $rc\"\nrc=`echo \"${rc}\" | sed -r 's\/[\/]+\/-\/g' 2>&1`\necho \"Git Branch = $rc\"\nhr=\"${p:component.name}-${p:environment.name}-${rc}\"\necho \"Old Helm release = ${p:helm.release}-${rc}\"\necho \"New Helm release = ${hr}\"\necho \"Ensure helm release name only contains lower case.\"\necho \"Helm release (all lower case) = ${hr}\"\nhr=`echo \"${hr}\" | tr '[:upper:]' '[:lower:]' 2>&1`\necho \"Ensure helm release name has < 53 characters, and cut off after 53th character.\"\nhr=`cut -c-53 <<< ${hr} 2>&1`\necho \"Final Helm release = ${hr}\"\nhelm upgrade ${hr} .\/helm_chart --namespace ${p:icp.namespace} --install --wait --timeout 30 --tls --debug",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Helm Custom Upgrade",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "postProcessingScript": {
                                        "id": "1648aa12-1407-a32e-2332-03942a18d352",
                                        "name": "Post Check Status Before",
                                        "description": "",
                                        "body": "properties.put('Status', 'Success');\n\nvar exit = properties.get('exitCode');\ncommandOut.println(\"initial step exitCode = \" + exit);\n\nvar passed = 0;\ncommandOut.println(\"initial passed = \" + passed);\n\nscanner.register(\"Counter: \", function(lineNumber, line) {\n      var value = line.replace(\"Counter: \", \"\");\n      properties.put('Counter', value);\n      passed = 1;\n  });\n  \nscanner.scan();\n\nvar currentValue = properties.get('Counter');\n\ncommandOut.println(\"Counter = \" + currentValue);\ncommandOut.println(\"Determined passed = \" + passed);\n\ncommandOut.println(\"Final step status = \" + properties.get('Status'));\n"
                                    },
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"Check release status: namespace = ${p:icp.namespace} ,  release name = ${p:helm.release}\"\n\nhelm ls --deployed --namespace ${p:icp.namespace} --tls | awk '\/${p:helm.release}\/ {print \"Counter: \" $2}'",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Check status before",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 74,
                                    "commandName": "Get Component Version For Resource",
                                    "pluginName": "IBM UrbanCode Deploy Resources",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "component": "${p:component.id}",
                                        "resource": "${p:resource.id}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Get Component Version",
                                    "children": []
                                }
                            ]
                        }
                    },
                    {
                        "name": "Deploy Test",
                        "description": "continue working version",
                        "defaultWorkingDir": "${p:resource\/work.dir}\/${p:component.name}",
                        "takesVersion": true,
                        "inventoryActionType": "ADD",
                        "status": "Active",
                        "configActionType": "ADD",
                        "active": true,
                        "path": "componentTemplates\/164802f5-2d4c-031f-94d2-112d48a7d34c\/processes\/1648a08d-0dbb-1749-62f4-1ff72453db92",
                        "deleted": false,
                        "propDefs": [],
                        "rootActivity": {
                            "edges": [
                                {
                                    "to": "Use Context",
                                    "from": "Get Environment Properties",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Helm Custom Upgrade",
                                    "from": "Get Component Version",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "from": "Helm Custom Upgrade",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "ICP Login",
                                    "from": "Use Context",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Download Artifacts",
                                    "from": "Clean Working Directory",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Get Component Version",
                                    "from": "Check status before",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Get Environment Properties",
                                    "from": "Replace Tokens",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Clean Working Directory",
                                    "type": "ALWAYS",
                                    "value": ""
                                },
                                {
                                    "to": "Helm Init",
                                    "from": "ICP Login",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Replace Tokens",
                                    "from": "Download Artifacts",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Check status before",
                                    "from": "Helm Init",
                                    "type": "SUCCESS",
                                    "value": ""
                                }
                            ],
                            "offsets": [
                                {
                                    "name": "Replace Tokens",
                                    "x": -69.99999999999994,
                                    "y": 420,
                                    "h": 80,
                                    "w": 280
                                },
                                {
                                    "name": "Clean Working Directory",
                                    "x": -90,
                                    "y": 140,
                                    "h": 80,
                                    "w": 380
                                },
                                {
                                    "name": "ICP Login",
                                    "x": 205.00000000000006,
                                    "y": 650,
                                    "h": 80,
                                    "w": 180
                                },
                                {
                                    "name": "Download Artifacts",
                                    "x": -59.999999999999886,
                                    "y": 280,
                                    "h": 80,
                                    "w": 300
                                },
                                {
                                    "name": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "x": 755.0000000000001,
                                    "y": 1160,
                                    "h": 90,
                                    "w": 130
                                },
                                {
                                    "name": "Helm Custom Upgrade",
                                    "x": 15.000000000000114,
                                    "y": 1170,
                                    "h": 80,
                                    "w": 280
                                },
                                {
                                    "name": "Use Context",
                                    "x": -119.99999999999989,
                                    "y": 670,
                                    "h": 80,
                                    "w": 250
                                },
                                {
                                    "name": "Helm Init",
                                    "x": -289.9999999999999,
                                    "y": 830,
                                    "h": 80,
                                    "w": 230
                                },
                                {
                                    "name": "Get Component Version",
                                    "x": -25,
                                    "y": 990,
                                    "h": 80,
                                    "w": 460
                                },
                                {
                                    "name": "Get Environment Properties",
                                    "x": -119.99999999999989,
                                    "y": 540,
                                    "h": 80,
                                    "w": 380
                                },
                                {
                                    "name": "Check status before",
                                    "x": 60.000000000000114,
                                    "y": 830,
                                    "h": 80,
                                    "w": 260
                                }
                            ],
                            "layoutMode": "manual",
                            "type": "graph",
                            "name": "68fb2f2f-1afd-4d70-a3e0-f65d463327ab",
                            "children": [
                                {
                                    "type": "finish",
                                    "name": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 65,
                                    "commandName": "Delete Files and Directories",
                                    "pluginName": "File Utils",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "baseDir": ".",
                                        "includes": "**\/*\r\n*",
                                        "excludes": "",
                                        "followSymlinks": "false",
                                        "caseSensitive": "true"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Clean Working Directory",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 30,
                                    "commandName": "Download Artifacts",
                                    "pluginName": "UrbanCode Deploy Versioned File Storage",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": "\/helm_chart",
                                        "artifactSetBaseDir": "",
                                        "fileIncludePatterns": "**\/*",
                                        "fileExcludePatterns": "",
                                        "syncMode": "true",
                                        "fullVerification": "true",
                                        "setFileExecuteBits": "false",
                                        "verifyFileIntegrity": "false",
                                        "versionId": "${p:version.id}",
                                        "serverUrl": "${p:server.url}",
                                        "compId": "${p:component.id}",
                                        "resId": "${p:resource.id}",
                                        "charset": "",
                                        "label": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Download Artifacts",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 65,
                                    "commandName": "Replace Tokens",
                                    "pluginName": "File Utils",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "includes": "**\/*",
                                        "excludes": "",
                                        "envPropValues": "${p:environment\/allProperties},${p:component\/allProperties},${p:resource\/allProperties},${p:environment\/allProperties}",
                                        "propertyPrefix": "",
                                        "explicitTokens": "",
                                        "startDelimiter": "@@@",
                                        "endDelimiter": "@@@",
                                        "propFile": "replace_tokens.properties",
                                        "dir": "",
                                        "customEncoding": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Replace Tokens",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 78,
                                    "commandName": "Get Environment Properties",
                                    "pluginName": "UrbanCode Deploy Environments",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "application": "${p:application.name}",
                                        "environment": "${p:environment.name}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Get Environment Properties",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Use Context",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "url": "",
                                        "username": "",
                                        "password": "crypt_v1{AES\/CBC\/PKCS5Padding|aes128keyabk8|EIOFJvDJVmNxSpBYAnxv+w==|ThTl0buV1FrLWoGX0AdA7Q==}",
                                        "namespace": "",
                                        "path": "",
                                        "globals": "--kubeconfig=${p:Get Environment Properties\/kubeconfig}",
                                        "contextname": "${p:kube.context}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Use Context",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Helm Init",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "cluster": "",
                                        "flags": "--client-only",
                                        "path": "",
                                        "kubeconfig": "${p:Get Environment Properties\/kubeconfig}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Helm Init",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"1\" | bx pr login -u admin -p admin --skip-ssl-validation",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "ICP Login",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "postProcessingScript": {
                                        "id": "164856a1-dcae-1843-7736-a0c78da2c99f",
                                        "name": "Helm_Upgrade_Post_Check",
                                        "description": "",
                                        "body": "var exit = properties.get('exitCode');\r\n\r\ncommandOut.println(\"initial step exitCode = \" + exit);\r\n\r\nvar passed = 0;\r\ncommandOut.println(\"initial passed = \" + passed);\r\n\r\nscanner.register(\"STATUS: DEPLOYED\", function(lineNumber, line) {\r\n      var value = line.replace(\"STATUS: \", \"\");\r\n      properties.put(\"Value\", value);\r\n      passed = 1;\r\n  });\r\n  \r\nscanner.scan();\r\n\r\nvar currentValue = properties.get('Value');\r\ncommandOut.println(\"STATUS = \" + currentValue);\r\ncommandOut.println(\"Determined passed = \" + passed);\r\n\r\nif (passed == 1) {\r\n    commandOut.println(\"passed is 1. found keyword. Override Failure and set status to Success !!!\");\r\n    properties.put('Status', 'Success');\r\n} else {\r\n    commandOut.println(\"passed is not 1 -> keyword not found. Failure.\");\r\n    properties.put('Status', 'Failure');\r\n}\r\n\r\ncommandOut.println(\"Final step status = \" + properties.get('Status'));\r\n"
                                    },
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"Environment Name = ${p:environment.name}\"\necho \"Component Name = ${p:component.name}\"\necho \"Component Version Name = ${p:Get Component Version\/version.name}\"\nrc=`cut -d. -f1 <<< ${p:Get Component Version\/version.name} 2>&1`\necho \"temporary rc = $rc\"\nrc=`echo \"${rc}\" | sed -r 's\/[\/]+\/-\/g' 2>&1`\necho \"Git Branch = $rc\"\nhr=\"${p:component.name}-${p:environment.name}-${rc}\"\necho \"Old Helm release = ${p:helm.release}-${rc}\"\necho \"New Helm release = ${hr}\"\necho \"Ensure helm release name complies with naming rules.\"\nhr=`echo \"${hr}\" | tr '[:upper:]' '[:lower:]' 2>&1`\necho \"Final Helm release = ${hr}\"\nhelm upgrade ${hr} .\/helm_chart --namespace ${p:icp.namespace} --install --wait --timeout 30 --tls --debug",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Helm Custom Upgrade",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "postProcessingScript": {
                                        "id": "1648aa12-1407-a32e-2332-03942a18d352",
                                        "name": "Post Check Status Before",
                                        "description": "",
                                        "body": "properties.put('Status', 'Success');\n\nvar exit = properties.get('exitCode');\ncommandOut.println(\"initial step exitCode = \" + exit);\n\nvar passed = 0;\ncommandOut.println(\"initial passed = \" + passed);\n\nscanner.register(\"Counter: \", function(lineNumber, line) {\n      var value = line.replace(\"Counter: \", \"\");\n      properties.put('Counter', value);\n      passed = 1;\n  });\n  \nscanner.scan();\n\nvar currentValue = properties.get('Counter');\n\ncommandOut.println(\"Counter = \" + currentValue);\ncommandOut.println(\"Determined passed = \" + passed);\n\ncommandOut.println(\"Final step status = \" + properties.get('Status'));\n"
                                    },
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"Check release status: namespace = ${p:icp.namespace} ,  release name = ${p:helm.release}\"\n\nhelm ls --deployed --namespace ${p:icp.namespace} --tls | awk '\/${p:helm.release}\/ {print \"Counter: \" $2}'",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Check status before",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 74,
                                    "commandName": "Get Component Version For Resource",
                                    "pluginName": "IBM UrbanCode Deploy Resources",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "component": "${p:component.id}",
                                        "resource": "${p:resource.id}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Get Component Version",
                                    "children": []
                                }
                            ]
                        }
                    },
                    {
                        "name": "Deploy Test (copy)",
                        "description": "continue working version",
                        "defaultWorkingDir": "${p:resource\/work.dir}\/${p:component.name}",
                        "takesVersion": true,
                        "inventoryActionType": "ADD",
                        "status": "Active",
                        "configActionType": "ADD",
                        "active": true,
                        "path": "componentTemplates\/164802f5-2d4c-031f-94d2-112d48a7d34c\/processes\/164a4d05-ecc2-e2fc-3fa7-ed20a649f30e",
                        "deleted": false,
                        "propDefs": [],
                        "rootActivity": {
                            "edges": [
                                {
                                    "to": "Replace Tokens",
                                    "from": "Download Artifacts",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "from": "Helm Custom Upgrade",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Get Environment Properties",
                                    "from": "Replace Tokens",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "First Error Handling",
                                    "from": "Helm Upgrade",
                                    "type": "FAILURE",
                                    "value": ""
                                },
                                {
                                    "to": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "from": "Helm Upgrade",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Download Artifacts",
                                    "from": "Clean Working Directory",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Helm Upgrade",
                                    "from": "Check status before",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Check status before",
                                    "from": "Helm Init",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Helm Init",
                                    "from": "ICP Login",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "ICP Login",
                                    "from": "Use Context",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Helm Custom Upgrade",
                                    "from": "First Error Handling",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Clean Working Directory",
                                    "type": "ALWAYS",
                                    "value": ""
                                },
                                {
                                    "to": "Use Context",
                                    "from": "Get Environment Properties",
                                    "type": "SUCCESS",
                                    "value": ""
                                }
                            ],
                            "offsets": [
                                {
                                    "name": "Clean Working Directory",
                                    "x": -90,
                                    "y": 140,
                                    "h": 80,
                                    "w": 380
                                },
                                {
                                    "name": "Helm Upgrade",
                                    "x": 455.0000000000001,
                                    "y": 830,
                                    "h": 80,
                                    "w": 270
                                },
                                {
                                    "name": "ICP Login",
                                    "x": 205.00000000000006,
                                    "y": 650,
                                    "h": 80,
                                    "w": 180
                                },
                                {
                                    "name": "Use Context",
                                    "x": -119.99999999999989,
                                    "y": 670,
                                    "h": 80,
                                    "w": 250
                                },
                                {
                                    "name": "Check status before",
                                    "x": 60.000000000000114,
                                    "y": 830,
                                    "h": 80,
                                    "w": 260
                                },
                                {
                                    "name": "Helm Custom Upgrade",
                                    "x": 320.0000000000001,
                                    "y": 1150,
                                    "h": 80,
                                    "w": 280
                                },
                                {
                                    "name": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "x": 755.0000000000001,
                                    "y": 1160,
                                    "h": 90,
                                    "w": 130
                                },
                                {
                                    "name": "Helm Init",
                                    "x": -289.9999999999999,
                                    "y": 830,
                                    "h": 80,
                                    "w": 230
                                },
                                {
                                    "name": "Replace Tokens",
                                    "x": -69.99999999999994,
                                    "y": 420,
                                    "h": 80,
                                    "w": 280
                                },
                                {
                                    "name": "Download Artifacts",
                                    "x": -59.999999999999886,
                                    "y": 280,
                                    "h": 80,
                                    "w": 300
                                },
                                {
                                    "name": "First Error Handling",
                                    "x": 330.0000000000001,
                                    "y": 980,
                                    "h": 80,
                                    "w": 250
                                },
                                {
                                    "name": "Get Environment Properties",
                                    "x": -119.99999999999989,
                                    "y": 540,
                                    "h": 80,
                                    "w": 380
                                }
                            ],
                            "layoutMode": "manual",
                            "type": "graph",
                            "name": "4b84de17-03cf-4f7f-9972-d4404a75d464",
                            "children": [
                                {
                                    "type": "finish",
                                    "name": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 65,
                                    "commandName": "Delete Files and Directories",
                                    "pluginName": "File Utils",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "baseDir": ".",
                                        "includes": "**\/*\r\n*",
                                        "excludes": "",
                                        "followSymlinks": "false",
                                        "caseSensitive": "true"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Clean Working Directory",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 30,
                                    "commandName": "Download Artifacts",
                                    "pluginName": "UrbanCode Deploy Versioned File Storage",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": "\/helm_chart",
                                        "artifactSetBaseDir": "",
                                        "fileIncludePatterns": "**\/*",
                                        "fileExcludePatterns": "",
                                        "syncMode": "true",
                                        "fullVerification": "true",
                                        "setFileExecuteBits": "false",
                                        "verifyFileIntegrity": "false",
                                        "versionId": "${p:version.id}",
                                        "serverUrl": "${p:server.url}",
                                        "compId": "${p:component.id}",
                                        "resId": "${p:resource.id}",
                                        "charset": "",
                                        "label": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Download Artifacts",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 65,
                                    "commandName": "Replace Tokens",
                                    "pluginName": "File Utils",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "includes": "**\/*",
                                        "excludes": "",
                                        "envPropValues": "${p:environment\/allProperties},${p:component\/allProperties},${p:resource\/allProperties},${p:environment\/allProperties}",
                                        "propertyPrefix": "",
                                        "explicitTokens": "",
                                        "startDelimiter": "@@@",
                                        "endDelimiter": "@@@",
                                        "propFile": "replace_tokens.properties",
                                        "dir": "",
                                        "customEncoding": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Replace Tokens",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 78,
                                    "commandName": "Get Environment Properties",
                                    "pluginName": "UrbanCode Deploy Environments",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "application": "${p:application.name}",
                                        "environment": "${p:environment.name}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Get Environment Properties",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Use Context",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "url": "",
                                        "username": "",
                                        "password": "crypt_v1{AES\/CBC\/PKCS5Padding|aes128keyabk8|kNOtqd3gw8+Yd61yUBq+Ug==|1LylafZd51a2MWcAeRA1uw==}",
                                        "namespace": "",
                                        "path": "",
                                        "globals": "--kubeconfig=${p:Get Environment Properties\/kubeconfig}",
                                        "contextname": "${p:kube.context}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Use Context",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Helm Init",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "cluster": "",
                                        "flags": "--client-only",
                                        "path": "",
                                        "kubeconfig": "${p:Get Environment Properties\/kubeconfig}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Helm Init",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Helm Upgrade",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "release": "${p:helm.release}",
                                        "chart": ".\/helm_chart",
                                        "flags": "--namespace\r\n${p:icp.namespace}\r\n--install\r\n--wait\r\n--timeout\r\n30\r\n--tls\r\n--debug",
                                        "path": "",
                                        "kubeconfig": "${p:Get Environment Properties\/kubeconfig}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Helm Upgrade",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"1\" | bx pr login -u admin -p admin --skip-ssl-validation",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "ICP Login",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "postProcessingScript": {
                                        "id": "164856a1-dcae-1843-7736-a0c78da2c99f",
                                        "name": "Helm_Upgrade_Post_Check",
                                        "description": "",
                                        "body": "var exit = properties.get('exitCode');\r\n\r\ncommandOut.println(\"initial step exitCode = \" + exit);\r\n\r\nvar passed = 0;\r\ncommandOut.println(\"initial passed = \" + passed);\r\n\r\nscanner.register(\"STATUS: DEPLOYED\", function(lineNumber, line) {\r\n      var value = line.replace(\"STATUS: \", \"\");\r\n      properties.put(\"Value\", value);\r\n      passed = 1;\r\n  });\r\n  \r\nscanner.scan();\r\n\r\nvar currentValue = properties.get('Value');\r\ncommandOut.println(\"STATUS = \" + currentValue);\r\ncommandOut.println(\"Determined passed = \" + passed);\r\n\r\nif (passed == 1) {\r\n    commandOut.println(\"passed is 1. found keyword. Override Failure and set status to Success !!!\");\r\n    properties.put('Status', 'Success');\r\n} else {\r\n    commandOut.println(\"passed is not 1 -> keyword not found. Failure.\");\r\n    properties.put('Status', 'Failure');\r\n}\r\n\r\ncommandOut.println(\"Final step status = \" + properties.get('Status'));\r\n"
                                    },
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "helm upgrade ${p:helm.release} .\/helm_chart --namespace ${p:icp.namespace} --install --wait --timeout 30 --tls --debug",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Helm Custom Upgrade",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"Error handling: namespace = ${p:icp.namespace} ,  release name = ${p:helm.release}\"\n\nhelm ls --deployed --namespace ${p:icp.namespace} --tls | awk '\/${p:helm.release}\/ {print \"Counter: \" $2}'",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "First Error Handling",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "postProcessingScript": {
                                        "id": "1648aa12-1407-a32e-2332-03942a18d352",
                                        "name": "Post Check Status Before",
                                        "description": "",
                                        "body": "properties.put('Status', 'Success');\n\nvar exit = properties.get('exitCode');\ncommandOut.println(\"initial step exitCode = \" + exit);\n\nvar passed = 0;\ncommandOut.println(\"initial passed = \" + passed);\n\nscanner.register(\"Counter: \", function(lineNumber, line) {\n      var value = line.replace(\"Counter: \", \"\");\n      properties.put('Counter', value);\n      passed = 1;\n  });\n  \nscanner.scan();\n\nvar currentValue = properties.get('Counter');\n\ncommandOut.println(\"Counter = \" + currentValue);\ncommandOut.println(\"Determined passed = \" + passed);\n\ncommandOut.println(\"Final step status = \" + properties.get('Status'));\n"
                                    },
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"Check release status: namespace = ${p:icp.namespace} ,  release name = ${p:helm.release}\"\n\nhelm ls --deployed --namespace ${p:icp.namespace} --tls | awk '\/${p:helm.release}\/ {print \"Counter: \" $2}'",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Check status before",
                                    "children": []
                                }
                            ]
                        }
                    }
                ],
                "genericProcesses": [],
                "teamMappings": []
            },
            "envPropDefs": [],
            "resPropDefs": [],
            "versionPropDefs": [],
            "propSheetGroup": {"propSheets": [
                {
                    "name": "template",
                    "properties": [
                        {
                            "name": "jenkins.reviewed",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "jenkins.server",
                            "description": "",
                            "secure": false
                        }
                    ]
                },
                {
                    "name": "custom",
                    "properties": []
                }
            ]},
            "processes": [],
            "configTemplates": [],
            "genericProcesses": [],
            "teamMappings": [],
            "tags": []
        },
        {
            "name": "commercial-desktop-backend",
            "description": "",
            "created": 1531231903745,
            "componentType": "STANDARD",
            "ignoreQualifiers": 0,
            "importAutomatically": false,
            "useVfs": true,
            "active": true,
            "deleted": false,
            "defaultVersionType": "FULL",
            "cleanupDaysToKeep": 0,
            "cleanupCountToKeep": 0,
            "componentTemplate": {
                "securityResourceId": "164802f5-2d1c-f320-a92a-7e27d03e775b",
                "path": "componentTemplates\/164802f5-2d4c-031f-94d2-112d48a7d34c",
                "name": "HelmChartTemplate",
                "description": "",
                "ignoreQualifiers": 0,
                "componentType": "STANDARD",
                "tags": [],
                "active": true,
                "envPropDefs": [],
                "resPropDefs": [],
                "propDefs": [
                    {
                        "name": "jenkins.server",
                        "label": "jenkins.server",
                        "pattern": "",
                        "type": "TEXT",
                        "required": false,
                        "description": "",
                        "placeholder": ""
                    },
                    {
                        "name": "jenkins.reviewed",
                        "label": "jenkins.reviewed",
                        "pattern": "",
                        "type": "TEXT",
                        "required": false,
                        "description": "",
                        "placeholder": ""
                    }
                ],
                "properties": [
                    {
                        "name": "jenkins.reviewed",
                        "value": "crypt_v1{AES\/CBC\/PKCS5Padding|aes128keyabk8|bvndYKDKkqGbDxBD1p\/mvQ==|LBD9WVS5BKEB7D1wkOGTjA==}",
                        "description": "",
                        "secure": true
                    },
                    {
                        "name": "jenkins.server",
                        "value": "crypt_v1{AES\/CBC\/PKCS5Padding|aes128keyabk8|2PmuYttUH8InTrdtADvjhw==|eo6nuGT19AtEmffpmu\/yUA==}",
                        "description": "",
                        "secure": true
                    }
                ],
                "processes": [
                    {
                        "name": "Deploy Helm Chart",
                        "description": "",
                        "defaultWorkingDir": "${p:resource\/work.dir}\/${p:component.name}",
                        "takesVersion": true,
                        "inventoryActionType": "ADD",
                        "status": "Active",
                        "configActionType": "ADD",
                        "active": true,
                        "path": "componentTemplates\/164802f5-2d4c-031f-94d2-112d48a7d34c\/processes\/1648ac94-bde7-c3c3-b3a5-460ed70242d2",
                        "deleted": false,
                        "propDefs": [],
                        "rootActivity": {
                            "edges": [
                                {
                                    "to": "Get Environment Properties",
                                    "from": "Replace Tokens",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Replace Tokens",
                                    "from": "Download Artifacts",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Helm Init",
                                    "from": "ICP Login",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Helm Custom Upgrade",
                                    "from": "Get Component Version",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "from": "Helm Custom Upgrade",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Use Context",
                                    "from": "Get Environment Properties",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Get Component Version",
                                    "from": "Check status before",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "ICP Login",
                                    "from": "Use Context",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Download Artifacts",
                                    "from": "Clean Working Directory",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Check status before",
                                    "from": "Helm Init",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Clean Working Directory",
                                    "type": "ALWAYS",
                                    "value": ""
                                }
                            ],
                            "offsets": [
                                {
                                    "name": "Helm Custom Upgrade",
                                    "x": 310.0000000000001,
                                    "y": 1010,
                                    "h": 80,
                                    "w": 280
                                },
                                {
                                    "name": "Helm Init",
                                    "x": -289.9999999999999,
                                    "y": 830,
                                    "h": 80,
                                    "w": 230
                                },
                                {
                                    "name": "Replace Tokens",
                                    "x": -69.99999999999994,
                                    "y": 420,
                                    "h": 80,
                                    "w": 280
                                },
                                {
                                    "name": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "x": 750.0000000000001,
                                    "y": 1005,
                                    "h": 90,
                                    "w": 130
                                },
                                {
                                    "name": "Download Artifacts",
                                    "x": -59.999999999999886,
                                    "y": 280,
                                    "h": 80,
                                    "w": 300
                                },
                                {
                                    "name": "Check status before",
                                    "x": 60.000000000000114,
                                    "y": 830,
                                    "h": 80,
                                    "w": 260
                                },
                                {
                                    "name": "Get Component Version",
                                    "x": 443.9361702127659,
                                    "y": 833.9494680851063,
                                    "h": 80,
                                    "w": 460
                                },
                                {
                                    "name": "Use Context",
                                    "x": -119.99999999999989,
                                    "y": 670,
                                    "h": 80,
                                    "w": 250
                                },
                                {
                                    "name": "ICP Login",
                                    "x": 205.00000000000006,
                                    "y": 650,
                                    "h": 80,
                                    "w": 180
                                },
                                {
                                    "name": "Clean Working Directory",
                                    "x": -90,
                                    "y": 140,
                                    "h": 80,
                                    "w": 380
                                },
                                {
                                    "name": "Get Environment Properties",
                                    "x": -119.99999999999989,
                                    "y": 540,
                                    "h": 80,
                                    "w": 380
                                }
                            ],
                            "layoutMode": "manual",
                            "type": "graph",
                            "name": "ad7c2542-98f2-4f74-a9c2-e37b36e88949",
                            "children": [
                                {
                                    "type": "finish",
                                    "name": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 65,
                                    "commandName": "Delete Files and Directories",
                                    "pluginName": "File Utils",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "baseDir": ".",
                                        "includes": "**\/*\r\n*",
                                        "excludes": "",
                                        "followSymlinks": "false",
                                        "caseSensitive": "true"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Clean Working Directory",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 30,
                                    "commandName": "Download Artifacts",
                                    "pluginName": "UrbanCode Deploy Versioned File Storage",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": "\/helm_chart",
                                        "artifactSetBaseDir": "",
                                        "fileIncludePatterns": "**\/*",
                                        "fileExcludePatterns": "",
                                        "syncMode": "true",
                                        "fullVerification": "true",
                                        "setFileExecuteBits": "false",
                                        "verifyFileIntegrity": "false",
                                        "versionId": "${p:version.id}",
                                        "serverUrl": "${p:server.url}",
                                        "compId": "${p:component.id}",
                                        "resId": "${p:resource.id}",
                                        "charset": "",
                                        "label": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Download Artifacts",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 65,
                                    "commandName": "Replace Tokens",
                                    "pluginName": "File Utils",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "includes": "**\/*",
                                        "excludes": "",
                                        "envPropValues": "${p:environment\/allProperties},${p:component\/allProperties},${p:resource\/allProperties},${p:environment\/allProperties}",
                                        "propertyPrefix": "",
                                        "explicitTokens": "",
                                        "startDelimiter": "@@@",
                                        "endDelimiter": "@@@",
                                        "propFile": "replace_tokens.properties",
                                        "dir": "",
                                        "customEncoding": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Replace Tokens",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 78,
                                    "commandName": "Get Environment Properties",
                                    "pluginName": "UrbanCode Deploy Environments",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "application": "${p:application.name}",
                                        "environment": "${p:environment.name}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Get Environment Properties",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Use Context",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "url": "",
                                        "username": "",
                                        "password": "crypt_v1{AES\/CBC\/PKCS5Padding|aes128keyabk8|lenGUxlzyRetbfgUVr4slA==|amK9WwgdCc8U5uD4enZYLg==}",
                                        "namespace": "",
                                        "path": "",
                                        "globals": "--kubeconfig=${p:Get Environment Properties\/kubeconfig}",
                                        "contextname": "${p:kube.context}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Use Context",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Helm Init",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "cluster": "",
                                        "flags": "--client-only",
                                        "path": "",
                                        "kubeconfig": "${p:Get Environment Properties\/kubeconfig}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Helm Init",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"1\" | bx pr login -u admin -p admin --skip-ssl-validation",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "ICP Login",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "postProcessingScript": {
                                        "id": "164856a1-dcae-1843-7736-a0c78da2c99f",
                                        "name": "Helm_Upgrade_Post_Check",
                                        "description": "",
                                        "body": "var exit = properties.get('exitCode');\r\n\r\ncommandOut.println(\"initial step exitCode = \" + exit);\r\n\r\nvar passed = 0;\r\ncommandOut.println(\"initial passed = \" + passed);\r\n\r\nscanner.register(\"STATUS: DEPLOYED\", function(lineNumber, line) {\r\n      var value = line.replace(\"STATUS: \", \"\");\r\n      properties.put(\"Value\", value);\r\n      passed = 1;\r\n  });\r\n  \r\nscanner.scan();\r\n\r\nvar currentValue = properties.get('Value');\r\ncommandOut.println(\"STATUS = \" + currentValue);\r\ncommandOut.println(\"Determined passed = \" + passed);\r\n\r\nif (passed == 1) {\r\n    commandOut.println(\"passed is 1. found keyword. Override Failure and set status to Success !!!\");\r\n    properties.put('Status', 'Success');\r\n} else {\r\n    commandOut.println(\"passed is not 1 -> keyword not found. Failure.\");\r\n    properties.put('Status', 'Failure');\r\n}\r\n\r\ncommandOut.println(\"Final step status = \" + properties.get('Status'));\r\n"
                                    },
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"Environment Name = ${p:environment.name}\"\necho \"Component Name = ${p:component.name}\"\necho \"Current selected Component Version Name = ${p:version.name}\"\n\nrc=`cut -d. -f1 <<< ${p:version.name} 2>&1`\necho \"temporary rc = $rc\"\nrc=`echo \"${rc}\" | sed -r 's\/[\/]+\/-\/g' 2>&1`\necho \"Git Branch = $rc\"\nhr=\"${p:component.name}-${p:environment.name}-${rc}\"\necho \"Old Helm release = ${p:helm.release}-${rc}\"\necho \"New Helm release = ${hr}\"\necho \"Ensure helm release name only contains lower case.\"\necho \"Helm release (all lower case) = ${hr}\"\nhr=`echo \"${hr}\" | tr '[:upper:]' '[:lower:]' 2>&1`\necho \"Ensure helm release name has < 53 characters, and cut off after 53th character.\"\nhr=`cut -c-53 <<< ${hr} 2>&1`\necho \"Final Helm release = ${hr}\"\nhelm upgrade ${hr} .\/helm_chart --namespace ${p:icp.namespace} --install --wait --timeout 30 --tls --debug",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Helm Custom Upgrade",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "postProcessingScript": {
                                        "id": "1648aa12-1407-a32e-2332-03942a18d352",
                                        "name": "Post Check Status Before",
                                        "description": "",
                                        "body": "properties.put('Status', 'Success');\n\nvar exit = properties.get('exitCode');\ncommandOut.println(\"initial step exitCode = \" + exit);\n\nvar passed = 0;\ncommandOut.println(\"initial passed = \" + passed);\n\nscanner.register(\"Counter: \", function(lineNumber, line) {\n      var value = line.replace(\"Counter: \", \"\");\n      properties.put('Counter', value);\n      passed = 1;\n  });\n  \nscanner.scan();\n\nvar currentValue = properties.get('Counter');\n\ncommandOut.println(\"Counter = \" + currentValue);\ncommandOut.println(\"Determined passed = \" + passed);\n\ncommandOut.println(\"Final step status = \" + properties.get('Status'));\n"
                                    },
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"Check release status: namespace = ${p:icp.namespace} ,  release name = ${p:helm.release}\"\n\nhelm ls --deployed --namespace ${p:icp.namespace} --tls | awk '\/${p:helm.release}\/ {print \"Counter: \" $2}'",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Check status before",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 74,
                                    "commandName": "Get Component Version For Resource",
                                    "pluginName": "IBM UrbanCode Deploy Resources",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "component": "${p:component.id}",
                                        "resource": "${p:resource.id}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Get Component Version",
                                    "children": []
                                }
                            ]
                        }
                    },
                    {
                        "name": "Deploy Helm Chart - backup v1.0",
                        "description": "",
                        "defaultWorkingDir": "${p:resource\/work.dir}\/${p:component.name}",
                        "takesVersion": true,
                        "inventoryActionType": "ADD",
                        "status": "Active",
                        "configActionType": "ADD",
                        "active": true,
                        "path": "componentTemplates\/164802f5-2d4c-031f-94d2-112d48a7d34c\/processes\/1648ac9a-e480-3dde-9bfd-e2730a73dbab",
                        "deleted": false,
                        "propDefs": [],
                        "rootActivity": {
                            "edges": [
                                {
                                    "to": "Use Context",
                                    "from": "Get Environment Properties",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Shell",
                                    "from": "Use Context",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Replace Tokens",
                                    "from": "Download Artifacts",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Clean Working Directory",
                                    "type": "ALWAYS",
                                    "value": ""
                                },
                                {
                                    "to": "Download Artifacts",
                                    "from": "Clean Working Directory",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "from": "Helm Upgrade",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Get Environment Properties",
                                    "from": "Replace Tokens",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Helm Init",
                                    "from": "Shell",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Helm Upgrade",
                                    "from": "Helm Init",
                                    "type": "SUCCESS",
                                    "value": ""
                                }
                            ],
                            "offsets": [
                                {
                                    "name": "Replace Tokens",
                                    "x": -69.99999999999994,
                                    "y": 420,
                                    "h": 80,
                                    "w": 280
                                },
                                {
                                    "name": "Clean Working Directory",
                                    "x": -90,
                                    "y": 140,
                                    "h": 80,
                                    "w": 380
                                },
                                {
                                    "name": "Get Environment Properties",
                                    "x": -109.99999999999994,
                                    "y": 580,
                                    "h": 80,
                                    "w": 380
                                },
                                {
                                    "name": "Use Context",
                                    "x": -40.000000000000114,
                                    "y": 730,
                                    "h": 80,
                                    "w": 250
                                },
                                {
                                    "name": "Helm Init",
                                    "x": -30.00000000000017,
                                    "y": 1080,
                                    "h": 80,
                                    "w": 230
                                },
                                {
                                    "name": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "x": 26.87355967741948,
                                    "y": 1410,
                                    "h": 90,
                                    "w": 130
                                },
                                {
                                    "name": "Download Artifacts",
                                    "x": -59.999999999999886,
                                    "y": 280,
                                    "h": 80,
                                    "w": 300
                                },
                                {
                                    "name": "Shell",
                                    "x": -9.999999999999886,
                                    "y": 887.154761904762,
                                    "h": 80,
                                    "w": 180
                                },
                                {
                                    "name": "Helm Upgrade",
                                    "x": -50.00000000000015,
                                    "y": 1250,
                                    "h": 80,
                                    "w": 270
                                }
                            ],
                            "layoutMode": "manual",
                            "type": "graph",
                            "name": "5adec20d-a3c2-4e62-816a-fda2cecbd3c8",
                            "children": [
                                {
                                    "type": "finish",
                                    "name": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 65,
                                    "commandName": "Delete Files and Directories",
                                    "pluginName": "File Utils",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "baseDir": ".",
                                        "includes": "**\/*\r\n*",
                                        "excludes": "",
                                        "followSymlinks": "false",
                                        "caseSensitive": "true"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Clean Working Directory",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 30,
                                    "commandName": "Download Artifacts",
                                    "pluginName": "UrbanCode Deploy Versioned File Storage",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": "\/helm_chart",
                                        "artifactSetBaseDir": "",
                                        "fileIncludePatterns": "**\/*",
                                        "fileExcludePatterns": "",
                                        "syncMode": "true",
                                        "fullVerification": "true",
                                        "setFileExecuteBits": "false",
                                        "verifyFileIntegrity": "false",
                                        "versionId": "${p:version.id}",
                                        "serverUrl": "${p:server.url}",
                                        "compId": "${p:component.id}",
                                        "resId": "${p:resource.id}",
                                        "charset": "",
                                        "label": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Download Artifacts",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 65,
                                    "commandName": "Replace Tokens",
                                    "pluginName": "File Utils",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "includes": "**\/*",
                                        "excludes": "",
                                        "envPropValues": "${p:environment\/allProperties},${p:component\/allProperties},${p:resource\/allProperties},${p:environment\/allProperties}",
                                        "propertyPrefix": "",
                                        "explicitTokens": "",
                                        "startDelimiter": "@@@",
                                        "endDelimiter": "@@@",
                                        "propFile": "replace_tokens.properties",
                                        "dir": "",
                                        "customEncoding": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Replace Tokens",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 78,
                                    "commandName": "Get Environment Properties",
                                    "pluginName": "UrbanCode Deploy Environments",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "application": "${p:application.name}",
                                        "environment": "${p:environment.name}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Get Environment Properties",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Use Context",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "url": "",
                                        "username": "",
                                        "password": "crypt_v1{AES\/CBC\/PKCS5Padding|aes128keyabk8|uukElljAJvVzYtOxYAsZNg==|l4SqDdTUQ6DUD2gbqVVD\/g==}",
                                        "namespace": "",
                                        "path": "",
                                        "globals": "--kubeconfig=${p:Get Environment Properties\/kubeconfig}",
                                        "contextname": "${p:kube.context}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Use Context",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Helm Init",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "cluster": "",
                                        "flags": "--client-only",
                                        "path": "",
                                        "kubeconfig": "${p:Get Environment Properties\/kubeconfig}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Helm Init",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Helm Upgrade",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "release": "${p:helm.release}",
                                        "chart": ".\/helm_chart",
                                        "flags": "--namespace\r\n${p:icp.namespace}\r\n--install\r\n--wait\r\n--timeout\r\n30\r\n--tls\r\n--debug",
                                        "path": "",
                                        "kubeconfig": "${p:Get Environment Properties\/kubeconfig}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Helm Upgrade",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"1\" | bx pr login -u admin -p admin --skip-ssl-validation",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Shell",
                                    "children": []
                                }
                            ]
                        }
                    },
                    {
                        "name": "Deploy Helm Chart - backup v2",
                        "description": "",
                        "defaultWorkingDir": "${p:resource\/work.dir}\/${p:component.name}",
                        "takesVersion": true,
                        "inventoryActionType": "ADD",
                        "status": "Active",
                        "configActionType": "ADD",
                        "active": true,
                        "path": "componentTemplates\/164802f5-2d4c-031f-94d2-112d48a7d34c\/processes\/164a552d-b8a1-6478-164c-34d553364751",
                        "deleted": false,
                        "propDefs": [],
                        "rootActivity": {
                            "edges": [
                                {
                                    "to": "Replace Tokens",
                                    "from": "Download Artifacts",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "from": "Helm Custom Upgrade",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Get Environment Properties",
                                    "from": "Replace Tokens",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "First Error Handling",
                                    "from": "Helm Upgrade",
                                    "type": "FAILURE",
                                    "value": ""
                                },
                                {
                                    "to": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "from": "Helm Upgrade",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Download Artifacts",
                                    "from": "Clean Working Directory",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Helm Upgrade",
                                    "from": "Check status before",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Check status before",
                                    "from": "Helm Init",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Helm Init",
                                    "from": "ICP Login",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "ICP Login",
                                    "from": "Use Context",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Helm Custom Upgrade",
                                    "from": "First Error Handling",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Clean Working Directory",
                                    "type": "ALWAYS",
                                    "value": ""
                                },
                                {
                                    "to": "Use Context",
                                    "from": "Get Environment Properties",
                                    "type": "SUCCESS",
                                    "value": ""
                                }
                            ],
                            "offsets": [
                                {
                                    "name": "Clean Working Directory",
                                    "x": -90,
                                    "y": 140,
                                    "h": 80,
                                    "w": 380
                                },
                                {
                                    "name": "Helm Upgrade",
                                    "x": 455.0000000000001,
                                    "y": 830,
                                    "h": 80,
                                    "w": 270
                                },
                                {
                                    "name": "ICP Login",
                                    "x": 205.00000000000006,
                                    "y": 650,
                                    "h": 80,
                                    "w": 180
                                },
                                {
                                    "name": "Use Context",
                                    "x": -119.99999999999989,
                                    "y": 670,
                                    "h": 80,
                                    "w": 250
                                },
                                {
                                    "name": "Check status before",
                                    "x": 60.000000000000114,
                                    "y": 830,
                                    "h": 80,
                                    "w": 260
                                },
                                {
                                    "name": "Helm Custom Upgrade",
                                    "x": 320.0000000000001,
                                    "y": 1150,
                                    "h": 80,
                                    "w": 280
                                },
                                {
                                    "name": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "x": 755.0000000000001,
                                    "y": 1160,
                                    "h": 90,
                                    "w": 130
                                },
                                {
                                    "name": "Helm Init",
                                    "x": -289.9999999999999,
                                    "y": 830,
                                    "h": 80,
                                    "w": 230
                                },
                                {
                                    "name": "Replace Tokens",
                                    "x": -69.99999999999994,
                                    "y": 420,
                                    "h": 80,
                                    "w": 280
                                },
                                {
                                    "name": "Download Artifacts",
                                    "x": -59.999999999999886,
                                    "y": 280,
                                    "h": 80,
                                    "w": 300
                                },
                                {
                                    "name": "First Error Handling",
                                    "x": 330.0000000000001,
                                    "y": 980,
                                    "h": 80,
                                    "w": 250
                                },
                                {
                                    "name": "Get Environment Properties",
                                    "x": -119.99999999999989,
                                    "y": 540,
                                    "h": 80,
                                    "w": 380
                                }
                            ],
                            "layoutMode": "manual",
                            "type": "graph",
                            "name": "4b84de17-03cf-4f7f-9972-d4404a75d464",
                            "children": [
                                {
                                    "type": "finish",
                                    "name": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 65,
                                    "commandName": "Delete Files and Directories",
                                    "pluginName": "File Utils",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "baseDir": ".",
                                        "includes": "**\/*\r\n*",
                                        "excludes": "",
                                        "followSymlinks": "false",
                                        "caseSensitive": "true"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Clean Working Directory",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 30,
                                    "commandName": "Download Artifacts",
                                    "pluginName": "UrbanCode Deploy Versioned File Storage",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": "\/helm_chart",
                                        "artifactSetBaseDir": "",
                                        "fileIncludePatterns": "**\/*",
                                        "fileExcludePatterns": "",
                                        "syncMode": "true",
                                        "fullVerification": "true",
                                        "setFileExecuteBits": "false",
                                        "verifyFileIntegrity": "false",
                                        "versionId": "${p:version.id}",
                                        "serverUrl": "${p:server.url}",
                                        "compId": "${p:component.id}",
                                        "resId": "${p:resource.id}",
                                        "charset": "",
                                        "label": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Download Artifacts",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 65,
                                    "commandName": "Replace Tokens",
                                    "pluginName": "File Utils",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "includes": "**\/*",
                                        "excludes": "",
                                        "envPropValues": "${p:environment\/allProperties},${p:component\/allProperties},${p:resource\/allProperties},${p:environment\/allProperties}",
                                        "propertyPrefix": "",
                                        "explicitTokens": "",
                                        "startDelimiter": "@@@",
                                        "endDelimiter": "@@@",
                                        "propFile": "replace_tokens.properties",
                                        "dir": "",
                                        "customEncoding": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Replace Tokens",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 78,
                                    "commandName": "Get Environment Properties",
                                    "pluginName": "UrbanCode Deploy Environments",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "application": "${p:application.name}",
                                        "environment": "${p:environment.name}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Get Environment Properties",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Use Context",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "url": "",
                                        "username": "",
                                        "password": "crypt_v1{AES\/CBC\/PKCS5Padding|aes128keyabk8|vIcBKoQEi38tR8TB8HCENw==|247wZA7Ha486Ks\/nuOkvmA==}",
                                        "namespace": "",
                                        "path": "",
                                        "globals": "--kubeconfig=${p:Get Environment Properties\/kubeconfig}",
                                        "contextname": "${p:kube.context}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Use Context",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Helm Init",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "cluster": "",
                                        "flags": "--client-only",
                                        "path": "",
                                        "kubeconfig": "${p:Get Environment Properties\/kubeconfig}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Helm Init",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Helm Upgrade",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "release": "${p:helm.release}",
                                        "chart": ".\/helm_chart",
                                        "flags": "--namespace\r\n${p:icp.namespace}\r\n--install\r\n--wait\r\n--timeout\r\n30\r\n--tls\r\n--debug",
                                        "path": "",
                                        "kubeconfig": "${p:Get Environment Properties\/kubeconfig}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Helm Upgrade",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"1\" | bx pr login -u admin -p admin --skip-ssl-validation",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "ICP Login",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "postProcessingScript": {
                                        "id": "164856a1-dcae-1843-7736-a0c78da2c99f",
                                        "name": "Helm_Upgrade_Post_Check",
                                        "description": "",
                                        "body": "var exit = properties.get('exitCode');\r\n\r\ncommandOut.println(\"initial step exitCode = \" + exit);\r\n\r\nvar passed = 0;\r\ncommandOut.println(\"initial passed = \" + passed);\r\n\r\nscanner.register(\"STATUS: DEPLOYED\", function(lineNumber, line) {\r\n      var value = line.replace(\"STATUS: \", \"\");\r\n      properties.put(\"Value\", value);\r\n      passed = 1;\r\n  });\r\n  \r\nscanner.scan();\r\n\r\nvar currentValue = properties.get('Value');\r\ncommandOut.println(\"STATUS = \" + currentValue);\r\ncommandOut.println(\"Determined passed = \" + passed);\r\n\r\nif (passed == 1) {\r\n    commandOut.println(\"passed is 1. found keyword. Override Failure and set status to Success !!!\");\r\n    properties.put('Status', 'Success');\r\n} else {\r\n    commandOut.println(\"passed is not 1 -> keyword not found. Failure.\");\r\n    properties.put('Status', 'Failure');\r\n}\r\n\r\ncommandOut.println(\"Final step status = \" + properties.get('Status'));\r\n"
                                    },
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "helm upgrade ${p:helm.release} .\/helm_chart --namespace ${p:icp.namespace} --install --wait --timeout 30 --tls --debug",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Helm Custom Upgrade",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"Error handling: namespace = ${p:icp.namespace} ,  release name = ${p:helm.release}\"\n\nhelm ls --deployed --namespace ${p:icp.namespace} --tls | awk '\/${p:helm.release}\/ {print \"Counter: \" $2}'",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "First Error Handling",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "postProcessingScript": {
                                        "id": "1648aa12-1407-a32e-2332-03942a18d352",
                                        "name": "Post Check Status Before",
                                        "description": "",
                                        "body": "properties.put('Status', 'Success');\n\nvar exit = properties.get('exitCode');\ncommandOut.println(\"initial step exitCode = \" + exit);\n\nvar passed = 0;\ncommandOut.println(\"initial passed = \" + passed);\n\nscanner.register(\"Counter: \", function(lineNumber, line) {\n      var value = line.replace(\"Counter: \", \"\");\n      properties.put('Counter', value);\n      passed = 1;\n  });\n  \nscanner.scan();\n\nvar currentValue = properties.get('Counter');\n\ncommandOut.println(\"Counter = \" + currentValue);\ncommandOut.println(\"Determined passed = \" + passed);\n\ncommandOut.println(\"Final step status = \" + properties.get('Status'));\n"
                                    },
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"Check release status: namespace = ${p:icp.namespace} ,  release name = ${p:helm.release}\"\n\nhelm ls --deployed --namespace ${p:icp.namespace} --tls | awk '\/${p:helm.release}\/ {print \"Counter: \" $2}'",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Check status before",
                                    "children": []
                                }
                            ]
                        }
                    },
                    {
                        "name": "Deploy Helm Chart with status tags",
                        "description": "",
                        "defaultWorkingDir": "${p:resource\/work.dir}\/${p:component.name}",
                        "takesVersion": true,
                        "inventoryActionType": "ADD",
                        "status": "Active",
                        "configActionType": "ADD",
                        "active": true,
                        "path": "componentTemplates\/164802f5-2d4c-031f-94d2-112d48a7d34c\/processes\/164ae816-e62c-3486-a968-000787db9cbe",
                        "deleted": false,
                        "propDefs": [],
                        "rootActivity": {
                            "edges": [
                                {
                                    "to": "Get Environment Properties",
                                    "from": "Replace Tokens",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Replace Tokens",
                                    "from": "Download Artifacts",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Helm Init",
                                    "from": "ICP Login",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Helm Custom Upgrade",
                                    "from": "Get Component Version",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "from": "Helm Custom Upgrade",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Use Context",
                                    "from": "Get Environment Properties",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Get Component Version",
                                    "from": "Check status before",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "ICP Login",
                                    "from": "Use Context",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Download Artifacts",
                                    "from": "Clean Working Directory",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Check status before",
                                    "from": "Helm Init",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Clean Working Directory",
                                    "type": "ALWAYS",
                                    "value": ""
                                }
                            ],
                            "offsets": [
                                {
                                    "name": "Helm Custom Upgrade",
                                    "x": 310.0000000000001,
                                    "y": 1010,
                                    "h": 80,
                                    "w": 280
                                },
                                {
                                    "name": "Helm Init",
                                    "x": -289.9999999999999,
                                    "y": 830,
                                    "h": 80,
                                    "w": 230
                                },
                                {
                                    "name": "Replace Tokens",
                                    "x": -69.99999999999994,
                                    "y": 420,
                                    "h": 80,
                                    "w": 280
                                },
                                {
                                    "name": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "x": 750.0000000000001,
                                    "y": 1005,
                                    "h": 90,
                                    "w": 130
                                },
                                {
                                    "name": "Download Artifacts",
                                    "x": -59.999999999999886,
                                    "y": 280,
                                    "h": 80,
                                    "w": 300
                                },
                                {
                                    "name": "Check status before",
                                    "x": 60.000000000000114,
                                    "y": 830,
                                    "h": 80,
                                    "w": 260
                                },
                                {
                                    "name": "Get Component Version",
                                    "x": 443.9361702127659,
                                    "y": 833.9494680851063,
                                    "h": 80,
                                    "w": 460
                                },
                                {
                                    "name": "Use Context",
                                    "x": -119.99999999999989,
                                    "y": 670,
                                    "h": 80,
                                    "w": 250
                                },
                                {
                                    "name": "ICP Login",
                                    "x": 205.00000000000006,
                                    "y": 650,
                                    "h": 80,
                                    "w": 180
                                },
                                {
                                    "name": "Clean Working Directory",
                                    "x": -90,
                                    "y": 140,
                                    "h": 80,
                                    "w": 380
                                },
                                {
                                    "name": "Get Environment Properties",
                                    "x": -119.99999999999989,
                                    "y": 540,
                                    "h": 80,
                                    "w": 380
                                }
                            ],
                            "layoutMode": "manual",
                            "type": "graph",
                            "name": "ad7c2542-98f2-4f74-a9c2-e37b36e88949",
                            "children": [
                                {
                                    "type": "finish",
                                    "name": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 65,
                                    "commandName": "Delete Files and Directories",
                                    "pluginName": "File Utils",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "baseDir": ".",
                                        "includes": "**\/*\r\n*",
                                        "excludes": "",
                                        "followSymlinks": "false",
                                        "caseSensitive": "true"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Clean Working Directory",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 30,
                                    "commandName": "Download Artifacts",
                                    "pluginName": "UrbanCode Deploy Versioned File Storage",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": "\/helm_chart",
                                        "artifactSetBaseDir": "",
                                        "fileIncludePatterns": "**\/*",
                                        "fileExcludePatterns": "",
                                        "syncMode": "true",
                                        "fullVerification": "true",
                                        "setFileExecuteBits": "false",
                                        "verifyFileIntegrity": "false",
                                        "versionId": "${p:version.id}",
                                        "serverUrl": "${p:server.url}",
                                        "compId": "${p:component.id}",
                                        "resId": "${p:resource.id}",
                                        "charset": "",
                                        "label": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Download Artifacts",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 65,
                                    "commandName": "Replace Tokens",
                                    "pluginName": "File Utils",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "includes": "**\/*",
                                        "excludes": "",
                                        "envPropValues": "${p:environment\/allProperties},${p:component\/allProperties},${p:resource\/allProperties},${p:environment\/allProperties}",
                                        "propertyPrefix": "",
                                        "explicitTokens": "",
                                        "startDelimiter": "@@@",
                                        "endDelimiter": "@@@",
                                        "propFile": "replace_tokens.properties",
                                        "dir": "",
                                        "customEncoding": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Replace Tokens",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 78,
                                    "commandName": "Get Environment Properties",
                                    "pluginName": "UrbanCode Deploy Environments",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "application": "${p:application.name}",
                                        "environment": "${p:environment.name}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Get Environment Properties",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Use Context",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "url": "",
                                        "username": "",
                                        "password": "crypt_v1{AES\/CBC\/PKCS5Padding|aes128keyabk8|pDVsAFWNkukEiS\/DIjX6Sw==|NxnfxAATSc1NIdPlttF3hQ==}",
                                        "namespace": "",
                                        "path": "",
                                        "globals": "--kubeconfig=${p:Get Environment Properties\/kubeconfig}",
                                        "contextname": "${p:kube.context}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Use Context",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Helm Init",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "cluster": "",
                                        "flags": "--client-only",
                                        "path": "",
                                        "kubeconfig": "${p:Get Environment Properties\/kubeconfig}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Helm Init",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"1\" | bx pr login -u admin -p admin --skip-ssl-validation",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "ICP Login",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "postProcessingScript": {
                                        "id": "164856a1-dcae-1843-7736-a0c78da2c99f",
                                        "name": "Helm_Upgrade_Post_Check",
                                        "description": "",
                                        "body": "var exit = properties.get('exitCode');\r\n\r\ncommandOut.println(\"initial step exitCode = \" + exit);\r\n\r\nvar passed = 0;\r\ncommandOut.println(\"initial passed = \" + passed);\r\n\r\nscanner.register(\"STATUS: DEPLOYED\", function(lineNumber, line) {\r\n      var value = line.replace(\"STATUS: \", \"\");\r\n      properties.put(\"Value\", value);\r\n      passed = 1;\r\n  });\r\n  \r\nscanner.scan();\r\n\r\nvar currentValue = properties.get('Value');\r\ncommandOut.println(\"STATUS = \" + currentValue);\r\ncommandOut.println(\"Determined passed = \" + passed);\r\n\r\nif (passed == 1) {\r\n    commandOut.println(\"passed is 1. found keyword. Override Failure and set status to Success !!!\");\r\n    properties.put('Status', 'Success');\r\n} else {\r\n    commandOut.println(\"passed is not 1 -> keyword not found. Failure.\");\r\n    properties.put('Status', 'Failure');\r\n}\r\n\r\ncommandOut.println(\"Final step status = \" + properties.get('Status'));\r\n"
                                    },
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"Environment Name = ${p:environment.name}\"\necho \"Component Name = ${p:component.name}\"\necho \"Current selected Component Version Name = ${p:version.name}\"\n\nrc=`cut -d. -f1 <<< ${p:version.name} 2>&1`\necho \"temporary rc = $rc\"\nrc=`echo \"${rc}\" | sed -r 's\/[\/]+\/-\/g' 2>&1`\necho \"Git Branch = $rc\"\nhr=\"${p:component.name}-${p:environment.name}-${rc}\"\necho \"Old Helm release = ${p:helm.release}-${rc}\"\necho \"New Helm release = ${hr}\"\necho \"Ensure helm release name only contains lower case.\"\necho \"Helm release (all lower case) = ${hr}\"\nhr=`echo \"${hr}\" | tr '[:upper:]' '[:lower:]' 2>&1`\necho \"Ensure helm release name has < 53 characters, and cut off after 53th character.\"\nhr=`cut -c-53 <<< ${hr} 2>&1`\necho \"Final Helm release = ${hr}\"\nhelm upgrade ${hr} .\/helm_chart --namespace ${p:icp.namespace} --install --wait --timeout 30 --tls --debug",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Helm Custom Upgrade",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "postProcessingScript": {
                                        "id": "1648aa12-1407-a32e-2332-03942a18d352",
                                        "name": "Post Check Status Before",
                                        "description": "",
                                        "body": "properties.put('Status', 'Success');\n\nvar exit = properties.get('exitCode');\ncommandOut.println(\"initial step exitCode = \" + exit);\n\nvar passed = 0;\ncommandOut.println(\"initial passed = \" + passed);\n\nscanner.register(\"Counter: \", function(lineNumber, line) {\n      var value = line.replace(\"Counter: \", \"\");\n      properties.put('Counter', value);\n      passed = 1;\n  });\n  \nscanner.scan();\n\nvar currentValue = properties.get('Counter');\n\ncommandOut.println(\"Counter = \" + currentValue);\ncommandOut.println(\"Determined passed = \" + passed);\n\ncommandOut.println(\"Final step status = \" + properties.get('Status'));\n"
                                    },
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"Check release status: namespace = ${p:icp.namespace} ,  release name = ${p:helm.release}\"\n\nhelm ls --deployed --namespace ${p:icp.namespace} --tls | awk '\/${p:helm.release}\/ {print \"Counter: \" $2}'",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Check status before",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 74,
                                    "commandName": "Get Component Version For Resource",
                                    "pluginName": "IBM UrbanCode Deploy Resources",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "component": "${p:component.id}",
                                        "resource": "${p:resource.id}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Get Component Version",
                                    "children": []
                                }
                            ]
                        }
                    },
                    {
                        "name": "Deploy Test",
                        "description": "continue working version",
                        "defaultWorkingDir": "${p:resource\/work.dir}\/${p:component.name}",
                        "takesVersion": true,
                        "inventoryActionType": "ADD",
                        "status": "Active",
                        "configActionType": "ADD",
                        "active": true,
                        "path": "componentTemplates\/164802f5-2d4c-031f-94d2-112d48a7d34c\/processes\/1648a08d-0dbb-1749-62f4-1ff72453db92",
                        "deleted": false,
                        "propDefs": [],
                        "rootActivity": {
                            "edges": [
                                {
                                    "to": "Use Context",
                                    "from": "Get Environment Properties",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Helm Custom Upgrade",
                                    "from": "Get Component Version",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "from": "Helm Custom Upgrade",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "ICP Login",
                                    "from": "Use Context",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Download Artifacts",
                                    "from": "Clean Working Directory",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Get Component Version",
                                    "from": "Check status before",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Get Environment Properties",
                                    "from": "Replace Tokens",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Clean Working Directory",
                                    "type": "ALWAYS",
                                    "value": ""
                                },
                                {
                                    "to": "Helm Init",
                                    "from": "ICP Login",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Replace Tokens",
                                    "from": "Download Artifacts",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Check status before",
                                    "from": "Helm Init",
                                    "type": "SUCCESS",
                                    "value": ""
                                }
                            ],
                            "offsets": [
                                {
                                    "name": "Replace Tokens",
                                    "x": -69.99999999999994,
                                    "y": 420,
                                    "h": 80,
                                    "w": 280
                                },
                                {
                                    "name": "Clean Working Directory",
                                    "x": -90,
                                    "y": 140,
                                    "h": 80,
                                    "w": 380
                                },
                                {
                                    "name": "ICP Login",
                                    "x": 205.00000000000006,
                                    "y": 650,
                                    "h": 80,
                                    "w": 180
                                },
                                {
                                    "name": "Download Artifacts",
                                    "x": -59.999999999999886,
                                    "y": 280,
                                    "h": 80,
                                    "w": 300
                                },
                                {
                                    "name": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "x": 755.0000000000001,
                                    "y": 1160,
                                    "h": 90,
                                    "w": 130
                                },
                                {
                                    "name": "Helm Custom Upgrade",
                                    "x": 15.000000000000114,
                                    "y": 1170,
                                    "h": 80,
                                    "w": 280
                                },
                                {
                                    "name": "Use Context",
                                    "x": -119.99999999999989,
                                    "y": 670,
                                    "h": 80,
                                    "w": 250
                                },
                                {
                                    "name": "Helm Init",
                                    "x": -289.9999999999999,
                                    "y": 830,
                                    "h": 80,
                                    "w": 230
                                },
                                {
                                    "name": "Get Component Version",
                                    "x": -25,
                                    "y": 990,
                                    "h": 80,
                                    "w": 460
                                },
                                {
                                    "name": "Get Environment Properties",
                                    "x": -119.99999999999989,
                                    "y": 540,
                                    "h": 80,
                                    "w": 380
                                },
                                {
                                    "name": "Check status before",
                                    "x": 60.000000000000114,
                                    "y": 830,
                                    "h": 80,
                                    "w": 260
                                }
                            ],
                            "layoutMode": "manual",
                            "type": "graph",
                            "name": "68fb2f2f-1afd-4d70-a3e0-f65d463327ab",
                            "children": [
                                {
                                    "type": "finish",
                                    "name": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 65,
                                    "commandName": "Delete Files and Directories",
                                    "pluginName": "File Utils",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "baseDir": ".",
                                        "includes": "**\/*\r\n*",
                                        "excludes": "",
                                        "followSymlinks": "false",
                                        "caseSensitive": "true"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Clean Working Directory",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 30,
                                    "commandName": "Download Artifacts",
                                    "pluginName": "UrbanCode Deploy Versioned File Storage",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": "\/helm_chart",
                                        "artifactSetBaseDir": "",
                                        "fileIncludePatterns": "**\/*",
                                        "fileExcludePatterns": "",
                                        "syncMode": "true",
                                        "fullVerification": "true",
                                        "setFileExecuteBits": "false",
                                        "verifyFileIntegrity": "false",
                                        "versionId": "${p:version.id}",
                                        "serverUrl": "${p:server.url}",
                                        "compId": "${p:component.id}",
                                        "resId": "${p:resource.id}",
                                        "charset": "",
                                        "label": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Download Artifacts",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 65,
                                    "commandName": "Replace Tokens",
                                    "pluginName": "File Utils",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "includes": "**\/*",
                                        "excludes": "",
                                        "envPropValues": "${p:environment\/allProperties},${p:component\/allProperties},${p:resource\/allProperties},${p:environment\/allProperties}",
                                        "propertyPrefix": "",
                                        "explicitTokens": "",
                                        "startDelimiter": "@@@",
                                        "endDelimiter": "@@@",
                                        "propFile": "replace_tokens.properties",
                                        "dir": "",
                                        "customEncoding": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Replace Tokens",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 78,
                                    "commandName": "Get Environment Properties",
                                    "pluginName": "UrbanCode Deploy Environments",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "application": "${p:application.name}",
                                        "environment": "${p:environment.name}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Get Environment Properties",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Use Context",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "url": "",
                                        "username": "",
                                        "password": "crypt_v1{AES\/CBC\/PKCS5Padding|aes128keyabk8|VgZ3JJ1Tll2A+6Ts\/2cIIw==|BLtSRFZ2bnrp\/ZhdPiQw8Q==}",
                                        "namespace": "",
                                        "path": "",
                                        "globals": "--kubeconfig=${p:Get Environment Properties\/kubeconfig}",
                                        "contextname": "${p:kube.context}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Use Context",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Helm Init",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "cluster": "",
                                        "flags": "--client-only",
                                        "path": "",
                                        "kubeconfig": "${p:Get Environment Properties\/kubeconfig}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Helm Init",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"1\" | bx pr login -u admin -p admin --skip-ssl-validation",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "ICP Login",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "postProcessingScript": {
                                        "id": "164856a1-dcae-1843-7736-a0c78da2c99f",
                                        "name": "Helm_Upgrade_Post_Check",
                                        "description": "",
                                        "body": "var exit = properties.get('exitCode');\r\n\r\ncommandOut.println(\"initial step exitCode = \" + exit);\r\n\r\nvar passed = 0;\r\ncommandOut.println(\"initial passed = \" + passed);\r\n\r\nscanner.register(\"STATUS: DEPLOYED\", function(lineNumber, line) {\r\n      var value = line.replace(\"STATUS: \", \"\");\r\n      properties.put(\"Value\", value);\r\n      passed = 1;\r\n  });\r\n  \r\nscanner.scan();\r\n\r\nvar currentValue = properties.get('Value');\r\ncommandOut.println(\"STATUS = \" + currentValue);\r\ncommandOut.println(\"Determined passed = \" + passed);\r\n\r\nif (passed == 1) {\r\n    commandOut.println(\"passed is 1. found keyword. Override Failure and set status to Success !!!\");\r\n    properties.put('Status', 'Success');\r\n} else {\r\n    commandOut.println(\"passed is not 1 -> keyword not found. Failure.\");\r\n    properties.put('Status', 'Failure');\r\n}\r\n\r\ncommandOut.println(\"Final step status = \" + properties.get('Status'));\r\n"
                                    },
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"Environment Name = ${p:environment.name}\"\necho \"Component Name = ${p:component.name}\"\necho \"Component Version Name = ${p:Get Component Version\/version.name}\"\nrc=`cut -d. -f1 <<< ${p:Get Component Version\/version.name} 2>&1`\necho \"temporary rc = $rc\"\nrc=`echo \"${rc}\" | sed -r 's\/[\/]+\/-\/g' 2>&1`\necho \"Git Branch = $rc\"\nhr=\"${p:component.name}-${p:environment.name}-${rc}\"\necho \"Old Helm release = ${p:helm.release}-${rc}\"\necho \"New Helm release = ${hr}\"\necho \"Ensure helm release name complies with naming rules.\"\nhr=`echo \"${hr}\" | tr '[:upper:]' '[:lower:]' 2>&1`\necho \"Final Helm release = ${hr}\"\nhelm upgrade ${hr} .\/helm_chart --namespace ${p:icp.namespace} --install --wait --timeout 30 --tls --debug",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Helm Custom Upgrade",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "postProcessingScript": {
                                        "id": "1648aa12-1407-a32e-2332-03942a18d352",
                                        "name": "Post Check Status Before",
                                        "description": "",
                                        "body": "properties.put('Status', 'Success');\n\nvar exit = properties.get('exitCode');\ncommandOut.println(\"initial step exitCode = \" + exit);\n\nvar passed = 0;\ncommandOut.println(\"initial passed = \" + passed);\n\nscanner.register(\"Counter: \", function(lineNumber, line) {\n      var value = line.replace(\"Counter: \", \"\");\n      properties.put('Counter', value);\n      passed = 1;\n  });\n  \nscanner.scan();\n\nvar currentValue = properties.get('Counter');\n\ncommandOut.println(\"Counter = \" + currentValue);\ncommandOut.println(\"Determined passed = \" + passed);\n\ncommandOut.println(\"Final step status = \" + properties.get('Status'));\n"
                                    },
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"Check release status: namespace = ${p:icp.namespace} ,  release name = ${p:helm.release}\"\n\nhelm ls --deployed --namespace ${p:icp.namespace} --tls | awk '\/${p:helm.release}\/ {print \"Counter: \" $2}'",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Check status before",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 74,
                                    "commandName": "Get Component Version For Resource",
                                    "pluginName": "IBM UrbanCode Deploy Resources",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "component": "${p:component.id}",
                                        "resource": "${p:resource.id}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Get Component Version",
                                    "children": []
                                }
                            ]
                        }
                    },
                    {
                        "name": "Deploy Test (copy)",
                        "description": "continue working version",
                        "defaultWorkingDir": "${p:resource\/work.dir}\/${p:component.name}",
                        "takesVersion": true,
                        "inventoryActionType": "ADD",
                        "status": "Active",
                        "configActionType": "ADD",
                        "active": true,
                        "path": "componentTemplates\/164802f5-2d4c-031f-94d2-112d48a7d34c\/processes\/164a4d05-ecc2-e2fc-3fa7-ed20a649f30e",
                        "deleted": false,
                        "propDefs": [],
                        "rootActivity": {
                            "edges": [
                                {
                                    "to": "Replace Tokens",
                                    "from": "Download Artifacts",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "from": "Helm Custom Upgrade",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Get Environment Properties",
                                    "from": "Replace Tokens",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "First Error Handling",
                                    "from": "Helm Upgrade",
                                    "type": "FAILURE",
                                    "value": ""
                                },
                                {
                                    "to": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "from": "Helm Upgrade",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Download Artifacts",
                                    "from": "Clean Working Directory",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Helm Upgrade",
                                    "from": "Check status before",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Check status before",
                                    "from": "Helm Init",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Helm Init",
                                    "from": "ICP Login",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "ICP Login",
                                    "from": "Use Context",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Helm Custom Upgrade",
                                    "from": "First Error Handling",
                                    "type": "SUCCESS",
                                    "value": ""
                                },
                                {
                                    "to": "Clean Working Directory",
                                    "type": "ALWAYS",
                                    "value": ""
                                },
                                {
                                    "to": "Use Context",
                                    "from": "Get Environment Properties",
                                    "type": "SUCCESS",
                                    "value": ""
                                }
                            ],
                            "offsets": [
                                {
                                    "name": "Clean Working Directory",
                                    "x": -90,
                                    "y": 140,
                                    "h": 80,
                                    "w": 380
                                },
                                {
                                    "name": "Helm Upgrade",
                                    "x": 455.0000000000001,
                                    "y": 830,
                                    "h": 80,
                                    "w": 270
                                },
                                {
                                    "name": "ICP Login",
                                    "x": 205.00000000000006,
                                    "y": 650,
                                    "h": 80,
                                    "w": 180
                                },
                                {
                                    "name": "Use Context",
                                    "x": -119.99999999999989,
                                    "y": 670,
                                    "h": 80,
                                    "w": 250
                                },
                                {
                                    "name": "Check status before",
                                    "x": 60.000000000000114,
                                    "y": 830,
                                    "h": 80,
                                    "w": 260
                                },
                                {
                                    "name": "Helm Custom Upgrade",
                                    "x": 320.0000000000001,
                                    "y": 1150,
                                    "h": 80,
                                    "w": 280
                                },
                                {
                                    "name": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "x": 755.0000000000001,
                                    "y": 1160,
                                    "h": 90,
                                    "w": 130
                                },
                                {
                                    "name": "Helm Init",
                                    "x": -289.9999999999999,
                                    "y": 830,
                                    "h": 80,
                                    "w": 230
                                },
                                {
                                    "name": "Replace Tokens",
                                    "x": -69.99999999999994,
                                    "y": 420,
                                    "h": 80,
                                    "w": 280
                                },
                                {
                                    "name": "Download Artifacts",
                                    "x": -59.999999999999886,
                                    "y": 280,
                                    "h": 80,
                                    "w": 300
                                },
                                {
                                    "name": "First Error Handling",
                                    "x": 330.0000000000001,
                                    "y": 980,
                                    "h": 80,
                                    "w": 250
                                },
                                {
                                    "name": "Get Environment Properties",
                                    "x": -119.99999999999989,
                                    "y": 540,
                                    "h": 80,
                                    "w": 380
                                }
                            ],
                            "layoutMode": "manual",
                            "type": "graph",
                            "name": "4b84de17-03cf-4f7f-9972-d4404a75d464",
                            "children": [
                                {
                                    "type": "finish",
                                    "name": "d9f33966df5b6f03e8f84fef79bf0a",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 65,
                                    "commandName": "Delete Files and Directories",
                                    "pluginName": "File Utils",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "baseDir": ".",
                                        "includes": "**\/*\r\n*",
                                        "excludes": "",
                                        "followSymlinks": "false",
                                        "caseSensitive": "true"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Clean Working Directory",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 30,
                                    "commandName": "Download Artifacts",
                                    "pluginName": "UrbanCode Deploy Versioned File Storage",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": "\/helm_chart",
                                        "artifactSetBaseDir": "",
                                        "fileIncludePatterns": "**\/*",
                                        "fileExcludePatterns": "",
                                        "syncMode": "true",
                                        "fullVerification": "true",
                                        "setFileExecuteBits": "false",
                                        "verifyFileIntegrity": "false",
                                        "versionId": "${p:version.id}",
                                        "serverUrl": "${p:server.url}",
                                        "compId": "${p:component.id}",
                                        "resId": "${p:resource.id}",
                                        "charset": "",
                                        "label": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Download Artifacts",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 65,
                                    "commandName": "Replace Tokens",
                                    "pluginName": "File Utils",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "includes": "**\/*",
                                        "excludes": "",
                                        "envPropValues": "${p:environment\/allProperties},${p:component\/allProperties},${p:resource\/allProperties},${p:environment\/allProperties}",
                                        "propertyPrefix": "",
                                        "explicitTokens": "",
                                        "startDelimiter": "@@@",
                                        "endDelimiter": "@@@",
                                        "propFile": "replace_tokens.properties",
                                        "dir": "",
                                        "customEncoding": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Replace Tokens",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 78,
                                    "commandName": "Get Environment Properties",
                                    "pluginName": "UrbanCode Deploy Environments",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "application": "${p:application.name}",
                                        "environment": "${p:environment.name}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Get Environment Properties",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Use Context",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "url": "",
                                        "username": "",
                                        "password": "crypt_v1{AES\/CBC\/PKCS5Padding|aes128keyabk8|HfKxYGZ6v2Ni8ZG2kb+6+g==|p9ouv+lH6vfVJbEyUCpIiQ==}",
                                        "namespace": "",
                                        "path": "",
                                        "globals": "--kubeconfig=${p:Get Environment Properties\/kubeconfig}",
                                        "contextname": "${p:kube.context}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Use Context",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Helm Init",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "cluster": "",
                                        "flags": "--client-only",
                                        "path": "",
                                        "kubeconfig": "${p:Get Environment Properties\/kubeconfig}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Helm Init",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": true,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 15,
                                    "commandName": "Helm Upgrade",
                                    "pluginName": "Kubernetes",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "release": "${p:helm.release}",
                                        "chart": ".\/helm_chart",
                                        "flags": "--namespace\r\n${p:icp.namespace}\r\n--install\r\n--wait\r\n--timeout\r\n30\r\n--tls\r\n--debug",
                                        "path": "",
                                        "kubeconfig": "${p:Get Environment Properties\/kubeconfig}"
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Helm Upgrade",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"1\" | bx pr login -u admin -p admin --skip-ssl-validation",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "ICP Login",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "postProcessingScript": {
                                        "id": "164856a1-dcae-1843-7736-a0c78da2c99f",
                                        "name": "Helm_Upgrade_Post_Check",
                                        "description": "",
                                        "body": "var exit = properties.get('exitCode');\r\n\r\ncommandOut.println(\"initial step exitCode = \" + exit);\r\n\r\nvar passed = 0;\r\ncommandOut.println(\"initial passed = \" + passed);\r\n\r\nscanner.register(\"STATUS: DEPLOYED\", function(lineNumber, line) {\r\n      var value = line.replace(\"STATUS: \", \"\");\r\n      properties.put(\"Value\", value);\r\n      passed = 1;\r\n  });\r\n  \r\nscanner.scan();\r\n\r\nvar currentValue = properties.get('Value');\r\ncommandOut.println(\"STATUS = \" + currentValue);\r\ncommandOut.println(\"Determined passed = \" + passed);\r\n\r\nif (passed == 1) {\r\n    commandOut.println(\"passed is 1. found keyword. Override Failure and set status to Success !!!\");\r\n    properties.put('Status', 'Success');\r\n} else {\r\n    commandOut.println(\"passed is not 1 -> keyword not found. Failure.\");\r\n    properties.put('Status', 'Failure');\r\n}\r\n\r\ncommandOut.println(\"Final step status = \" + properties.get('Status'));\r\n"
                                    },
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "helm upgrade ${p:helm.release} .\/helm_chart --namespace ${p:icp.namespace} --install --wait --timeout 30 --tls --debug",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Helm Custom Upgrade",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"Error handling: namespace = ${p:icp.namespace} ,  release name = ${p:helm.release}\"\n\nhelm ls --deployed --namespace ${p:icp.namespace} --tls | awk '\/${p:helm.release}\/ {print \"Counter: \" $2}'",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "First Error Handling",
                                    "children": []
                                },
                                {
                                    "allowFailure": false,
                                    "useImpersonation": false,
                                    "showHidden": false,
                                    "impersonationUseSudo": false,
                                    "postProcessingScript": {
                                        "id": "1648aa12-1407-a32e-2332-03942a18d352",
                                        "name": "Post Check Status Before",
                                        "description": "",
                                        "body": "properties.put('Status', 'Success');\n\nvar exit = properties.get('exitCode');\ncommandOut.println(\"initial step exitCode = \" + exit);\n\nvar passed = 0;\ncommandOut.println(\"initial passed = \" + passed);\n\nscanner.register(\"Counter: \", function(lineNumber, line) {\n      var value = line.replace(\"Counter: \", \"\");\n      properties.put('Counter', value);\n      passed = 1;\n  });\n  \nscanner.scan();\n\nvar currentValue = properties.get('Counter');\n\ncommandOut.println(\"Counter = \" + currentValue);\ncommandOut.println(\"Determined passed = \" + passed);\n\ncommandOut.println(\"Final step status = \" + properties.get('Status'));\n"
                                    },
                                    "pluginVersion": 9,
                                    "commandName": "Shell",
                                    "pluginName": "Shell",
                                    "authTokenRestriction": "20000001-0001-0001-0001-000000000000",
                                    "properties": {
                                        "directoryOffset": ".",
                                        "shellInterpreter": "",
                                        "scriptBody": "echo \"Check release status: namespace = ${p:icp.namespace} ,  release name = ${p:helm.release}\"\n\nhelm ls --deployed --namespace ${p:icp.namespace} --tls | awk '\/${p:helm.release}\/ {print \"Counter: \" $2}'",
                                        "runAsDaemon": "false",
                                        "outputFile": ""
                                    },
                                    "cachedAuthTokenRestriction": {
                                        "name": "System Default",
                                        "description": "Used by default for any plugin steps without a specified token restriction",
                                        "restrictions": [{
                                            "verb": "ALL",
                                            "url": "\/*"
                                        }]
                                    },
                                    "type": "plugin",
                                    "name": "Check status before",
                                    "children": []
                                }
                            ]
                        }
                    }
                ],
                "genericProcesses": [],
                "teamMappings": []
            },
            "envPropDefs": [],
            "resPropDefs": [],
            "versionPropDefs": [],
            "propSheetGroup": {"propSheets": [
                {
                    "name": "template",
                    "properties": [
                        {
                            "name": "jenkins.reviewed",
                            "description": "",
                            "secure": false
                        },
                        {
                            "name": "jenkins.server",
                            "description": "",
                            "secure": false
                        }
                    ]
                },
                {
                    "name": "custom",
                    "properties": []
                }
            ]},
            "processes": [],
            "configTemplates": [],
            "genericProcesses": [],
            "teamMappings": [],
            "tags": []
        }
    ],
    "environments": [
        {
            "name": "Dev",
            "description": "",
            "color": "#00B2EF",
            "requireApprovals": false,
            "noSelfApprovals": false,
            "exemptProcesses": [],
            "lockSnapshots": false,
            "requireSnapshots": false,
            "cleanupDaysToKeep": 0,
            "cleanupCountToKeep": 0,
            "enableProcessHistoryCleanup": true,
            "useSystemDefaultDays": true,
            "historyCleanupDaysToKeep": 365,
            "order": 0,
            "active": true,
            "propSheet": {"properties": [
                {
                    "name": "helm.release",
                    "value": "commercial-desktop-backend-dev",
                    "description": "TBD - this is no longer used.",
                    "secure": false
                },
                {
                    "name": "icp.namespace",
                    "value": "commercial-desktop",
                    "description": "",
                    "secure": false
                },
                {
                    "name": "kube.context",
                    "value": "test.dc1-cp01.local-context",
                    "description": "",
                    "secure": false
                },
                {
                    "name": "kubeconfig",
                    "value": "\/root\/.kube\/config",
                    "description": "",
                    "secure": false
                }
            ]},
            "templatePropSheet": {
                "name": "template",
                "properties": []
            },
            "baseResources": [{
                "path": "\/commercial-desktop\/Dev",
                "id": "16494085-d9ad-ac45-599b-7cdea2a188c7"
            }],
            "componentPropSheets": [
                {
                    "properties": [],
                    "componentName": "commercial-desktop"
                },
                {
                    "properties": [],
                    "componentName": "commercial-desktop-backend"
                }
            ],
            "versionConditions": [],
            "teamMappings": []
        },
        {
            "name": "System",
            "description": "System testing environment",
            "color": "#DD731C",
            "requireApprovals": false,
            "noSelfApprovals": false,
            "exemptProcesses": [],
            "lockSnapshots": false,
            "requireSnapshots": false,
            "cleanupDaysToKeep": 0,
            "cleanupCountToKeep": 0,
            "enableProcessHistoryCleanup": true,
            "useSystemDefaultDays": true,
            "historyCleanupDaysToKeep": 365,
            "order": 2,
            "active": true,
            "propSheet": {"properties": [
                {
                    "name": "helm.release",
                    "value": "commercial-desktop-backend-system",
                    "description": "TBD - this is no longer used.",
                    "secure": false
                },
                {
                    "name": "icp.namespace",
                    "value": "commercial-desktop-system",
                    "description": "",
                    "secure": false
                },
                {
                    "name": "kube.context",
                    "value": "test.dc1-cp01.local-context",
                    "description": "",
                    "secure": false
                },
                {
                    "name": "kubeconfig",
                    "value": "\/root\/.kube\/config",
                    "description": "",
                    "secure": false
                }
            ]},
            "templatePropSheet": {
                "name": "template",
                "properties": []
            },
            "baseResources": [{
                "path": "\/commercial-desktop\/System",
                "id": "16494088-89db-f7a2-1ae7-0819bc484346"
            }],
            "componentPropSheets": [
                {
                    "properties": [],
                    "componentName": "commercial-desktop"
                },
                {
                    "properties": [],
                    "componentName": "commercial-desktop-backend"
                }
            ],
            "versionConditions": [],
            "teamMappings": []
        },
        {
            "name": "zDev",
            "description": "ZLinux Development deployment ",
            "color": "#00648D",
            "requireApprovals": false,
            "noSelfApprovals": false,
            "exemptProcesses": [],
            "lockSnapshots": false,
            "requireSnapshots": false,
            "cleanupDaysToKeep": 0,
            "cleanupCountToKeep": 0,
            "enableProcessHistoryCleanup": true,
            "useSystemDefaultDays": true,
            "historyCleanupDaysToKeep": 365,
            "order": 3,
            "active": true,
            "propSheet": {"properties": [
                {
                    "name": "helm.release",
                    "value": "commercial-desktop-backend-z-dev",
                    "description": "TBD - this is no longer used.",
                    "secure": false
                },
                {
                    "name": "icp.namespace",
                    "value": "commercial-desktop",
                    "description": "",
                    "secure": false
                },
                {
                    "name": "kube.context",
                    "value": "test.dc1-cp01.local-context",
                    "description": "",
                    "secure": false
                },
                {
                    "name": "kubeconfig",
                    "value": "\/root\/.kube\/config",
                    "description": "",
                    "secure": false
                }
            ]},
            "templatePropSheet": {
                "name": "template",
                "properties": []
            },
            "baseResources": [{
                "path": "\/commercial-desktop\/zDev",
                "id": "164a5cdc-17fe-e2ee-f4a4-4877e4c06e37"
            }],
            "componentPropSheets": [
                {
                    "properties": [],
                    "componentName": "commercial-desktop"
                },
                {
                    "properties": [],
                    "componentName": "commercial-desktop-backend"
                }
            ],
            "versionConditions": [],
            "teamMappings": []
        },
        {
            "name": "zSystem",
            "description": "zLinux System deployment",
            "color": "#B8461B",
            "requireApprovals": false,
            "noSelfApprovals": false,
            "exemptProcesses": [],
            "lockSnapshots": false,
            "requireSnapshots": false,
            "cleanupDaysToKeep": 0,
            "cleanupCountToKeep": 0,
            "enableProcessHistoryCleanup": true,
            "useSystemDefaultDays": true,
            "historyCleanupDaysToKeep": 365,
            "order": 4,
            "active": true,
            "propSheet": {"properties": [
                {
                    "name": "helm.release",
                    "value": "commercial-desktop-backend-z-system",
                    "description": "TBD - this is no longer used.",
                    "secure": false
                },
                {
                    "name": "icp.namespace",
                    "value": "commercial-desktop-system",
                    "description": "",
                    "secure": false
                },
                {
                    "name": "kube.context",
                    "value": "test.dc1-cp01.local-context",
                    "description": "",
                    "secure": false
                },
                {
                    "name": "kubeconfig",
                    "value": "\/root\/.kube\/config",
                    "description": "",
                    "secure": false
                }
            ]},
            "templatePropSheet": {
                "name": "template",
                "properties": []
            },
            "baseResources": [{
                "path": "\/commercial-desktop\/zSystem",
                "id": "164a5ce1-77b1-1585-1623-827df0b3c653"
            }],
            "componentPropSheets": [
                {
                    "properties": [],
                    "componentName": "commercial-desktop"
                },
                {
                    "properties": [],
                    "componentName": "commercial-desktop-backend"
                }
            ],
            "versionConditions": [],
            "teamMappings": []
        }
    ],
    "statuses": [],
    "processes": [
        {
            "name": "Test",
            "description": "",
            "inventoryManagementType": "AUTOMATIC",
            "offlineAgentHandling": "PRE_EXECUTION_CHECK",
            "rootActivity": {
                "edges": [
                    {
                        "to": "429c145e315edc9eab4d06371c7be4",
                        "from": "b39963d6fe2d03c28e485fe23769de",
                        "type": "SUCCESS",
                        "value": ""
                    },
                    {
                        "to": "b39963d6fe2d03c28e485fe23769de",
                        "type": "ALWAYS",
                        "value": ""
                    }
                ],
                "offsets": [
                    {
                        "name": "429c145e315edc9eab4d06371c7be4",
                        "x": -5,
                        "y": 420,
                        "h": 80,
                        "w": 120
                    },
                    {
                        "name": "b39963d6fe2d03c28e485fe23769de",
                        "x": -84,
                        "y": 197.25,
                        "h": 70,
                        "w": 340
                    }
                ],
                "layoutMode": "manual",
                "type": "graph",
                "name": "9a15b574-e468-4420-ad1e-359ba2f77cb5",
                "children": [
                    {
                        "type": "finish",
                        "name": "429c145e315edc9eab4d06371c7be4",
                        "children": []
                    },
                    {
                        "componentName": "commercial-desktop-backend",
                        "properties": [
                            {
                                "name": "maxIteration",
                                "value": "-1"
                            },
                            {
                                "name": "failFast",
                                "value": "false"
                            }
                        ],
                        "type": "componentEnvironmentIterator",
                        "name": "b39963d6fe2d03c28e485fe23769de",
                        "children": [{
                            "componentName": "commercial-desktop-backend",
                            "status": "Active",
                            "type": "inventoryVersionDiff",
                            "name": "00349f5f-535a-40f3-811f-b0d6bd61ce63",
                            "children": [{
                                "componentProcessName": "Deploy Test",
                                "componentName": "commercial-desktop-backend",
                                "allowFailure": false,
                                "properties": {},
                                "type": "componentProcess",
                                "name": "Install: \"commercial-desktop-backend\"",
                                "children": []
                            }]
                        }]
                    }
                ]
            },
            "propDefs": [],
            "versionPresets": []
        },
        {
            "name": "Deploy-commercial-desktop-backend",
            "description": "",
            "inventoryManagementType": "AUTOMATIC",
            "offlineAgentHandling": "PRE_EXECUTION_CHECK",
            "rootActivity": {
                "edges": [
                    {
                        "to": "ae4067c95b15d90204aabe0e041b78",
                        "from": "e1bb7a5a527d468b91ec8af7ab2e3e",
                        "type": "SUCCESS",
                        "value": ""
                    },
                    {
                        "to": "e1bb7a5a527d468b91ec8af7ab2e3e",
                        "type": "ALWAYS",
                        "value": ""
                    }
                ],
                "offsets": [
                    {
                        "name": "ae4067c95b15d90204aabe0e041b78",
                        "x": -5,
                        "y": 420,
                        "h": 80,
                        "w": 120
                    },
                    {
                        "name": "e1bb7a5a527d468b91ec8af7ab2e3e",
                        "x": -101,
                        "y": 190,
                        "h": 70,
                        "w": 340
                    }
                ],
                "layoutMode": "manual",
                "type": "graph",
                "name": "293e9215-5ead-40b7-9af4-13582fab5427",
                "children": [
                    {
                        "type": "finish",
                        "name": "ae4067c95b15d90204aabe0e041b78",
                        "children": []
                    },
                    {
                        "componentName": "commercial-desktop-backend",
                        "properties": [
                            {
                                "name": "maxIteration",
                                "value": "-1"
                            },
                            {
                                "name": "failFast",
                                "value": "false"
                            }
                        ],
                        "type": "componentEnvironmentIterator",
                        "name": "e1bb7a5a527d468b91ec8af7ab2e3e",
                        "children": [{
                            "componentName": "commercial-desktop-backend",
                            "status": "Active",
                            "type": "inventoryVersionDiff",
                            "name": "7750a7d0-2ade-4c55-ad00-dd844ed4cd60",
                            "children": [{
                                "componentProcessName": "Deploy Helm Chart",
                                "componentName": "commercial-desktop-backend",
                                "allowFailure": false,
                                "properties": {},
                                "type": "componentProcess",
                                "name": "Install: \"commercial-desktop-backend\"",
                                "children": []
                            }]
                        }]
                    }
                ]
            },
            "propDefs": [],
            "versionPresets": []
        },
        {
            "name": "Deploy-commercial-desktop",
            "description": "",
            "inventoryManagementType": "AUTOMATIC",
            "offlineAgentHandling": "PRE_EXECUTION_CHECK",
            "rootActivity": {
                "edges": [
                    {
                        "to": "27e73d157264713704385f82f64cef",
                        "type": "ALWAYS",
                        "value": ""
                    },
                    {
                        "to": "b931b3a2d6fc17aef8a2ac79118f5b",
                        "from": "27e73d157264713704385f82f64cef",
                        "type": "SUCCESS",
                        "value": ""
                    }
                ],
                "offsets": [
                    {
                        "name": "27e73d157264713704385f82f64cef",
                        "x": -66,
                        "y": 150,
                        "h": 70,
                        "w": 280
                    },
                    {
                        "name": "b931b3a2d6fc17aef8a2ac79118f5b",
                        "x": 4,
                        "y": 290,
                        "h": 80,
                        "w": 120
                    }
                ],
                "layoutMode": "manual",
                "type": "graph",
                "name": "2a9551a6-0e63-4e6d-85db-818a138e75b9",
                "children": [
                    {
                        "type": "finish",
                        "name": "b931b3a2d6fc17aef8a2ac79118f5b",
                        "children": []
                    },
                    {
                        "componentName": "commercial-desktop",
                        "properties": [
                            {
                                "name": "maxIteration",
                                "value": "-1"
                            },
                            {
                                "name": "failFast",
                                "value": "false"
                            }
                        ],
                        "type": "componentEnvironmentIterator",
                        "name": "27e73d157264713704385f82f64cef",
                        "children": [{
                            "componentName": "commercial-desktop",
                            "status": "Active",
                            "type": "inventoryVersionDiff",
                            "name": "18cc014e-845c-423b-ac81-d4a127781446",
                            "children": [{
                                "componentProcessName": "Deploy Helm Chart",
                                "componentName": "commercial-desktop",
                                "allowFailure": false,
                                "properties": {},
                                "type": "componentProcess",
                                "name": "Install: \"commercial-desktop\"",
                                "children": []
                            }]
                        }]
                    }
                ]
            },
            "propDefs": [],
            "versionPresets": []
        },
        {
            "name": "TBD - Deploy",
            "description": "",
            "inventoryManagementType": "AUTOMATIC",
            "offlineAgentHandling": "PRE_EXECUTION_CHECK",
            "rootActivity": {
                "edges": [
                    {
                        "to": "773e1aa98182d020e0f3de2f50f7cc",
                        "from": "ee97b5b2b2e4abf58dba8e92b3fd54",
                        "type": "SUCCESS",
                        "value": ""
                    },
                    {
                        "to": "ee97b5b2b2e4abf58dba8e92b3fd54",
                        "type": "ALWAYS",
                        "value": ""
                    }
                ],
                "offsets": [
                    {
                        "name": "773e1aa98182d020e0f3de2f50f7cc",
                        "x": -5,
                        "y": 420,
                        "h": 80,
                        "w": 120
                    },
                    {
                        "name": "ee97b5b2b2e4abf58dba8e92b3fd54",
                        "x": -22,
                        "y": 188.75,
                        "h": 70,
                        "w": 340
                    }
                ],
                "layoutMode": "manual",
                "type": "graph",
                "name": "dcd80a79-9f31-401d-9cce-fc99dc24c908",
                "children": [
                    {
                        "type": "finish",
                        "name": "773e1aa98182d020e0f3de2f50f7cc",
                        "children": []
                    },
                    {
                        "componentName": "commercial-desktop-backend",
                        "properties": [
                            {
                                "name": "maxIteration",
                                "value": "-1"
                            },
                            {
                                "name": "failFast",
                                "value": "false"
                            }
                        ],
                        "type": "componentEnvironmentIterator",
                        "name": "ee97b5b2b2e4abf58dba8e92b3fd54",
                        "children": [{
                            "componentName": "commercial-desktop-backend",
                            "status": "Active",
                            "type": "inventoryVersionDiff",
                            "name": "2cbcb076-4164-45fb-8285-c15f7b53a51f",
                            "children": [{
                                "componentProcessName": "Deploy Helm Chart",
                                "componentName": "commercial-desktop-backend",
                                "allowFailure": false,
                                "properties": {},
                                "type": "componentProcess",
                                "name": "Install: \"commercial-desktop-backend\"",
                                "children": []
                            }]
                        }]
                    }
                ]
            },
            "propDefs": [],
            "versionPresets": []
        }
    ],
    "genericProcesses": [],
    "teamMappings": [],
    "tags": []
}